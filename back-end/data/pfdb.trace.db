2025-10-23 09:33:37.500625+02:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
create table dbo.users (user_id integer generated by default as identity, created_at timestamp(6), password_hash varchar(255) not null, username varchar(100) not null, primary key (user_id)) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreateTable(Parser.java:8808)
	at org.h2.command.Parser.parseCreate(Parser.java:6398)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:316)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.example.backend.BackendApplication.main(BackendApplication.java:9)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-10-23 09:35:00.424248+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
SELECT * FROM dbo.Users [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readTablePrimary(Parser.java:1739)
	at org.h2.command.Parser.readTableReference(Parser.java:2249)
	at org.h2.command.Parser.parseSelectFromPart(Parser.java:2702)
	at org.h2.command.Parser.parseSelect(Parser.java:2810)
	at org.h2.command.Parser.parseQueryPrimary(Parser.java:2692)
	at org.h2.command.Parser.parseQueryTerm(Parser.java:2547)
	at org.h2.command.Parser.parseQueryExpressionBody(Parser.java:2526)
	at org.h2.command.Parser.parseQueryExpressionBodyAndEndOfQuery(Parser.java:2519)
	at org.h2.command.Parser.parseQueryExpression(Parser.java:2512)
	at org.h2.command.Parser.parseQuery(Parser.java:2479)
	at org.h2.command.Parser.parsePrepared(Parser.java:610)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:41:50.643679+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "/* =========================================================\000d\000a   Personal Finance Tracker – MSSQL schema (idempotent)\000d\000a   Creates DB, tables, FKs, indexes, and constraints\000d\000a   ========================================================= */\000d\000a\000d\000a-- 1) Create database if missing\000d\000a[*]IF DB_ID('PersonalFinance') IS NULL\000d\000aBEGIN\000d\000a  PRINT 'Creating database PersonalFinance...'"; SQL statement:
/* =========================================================
   Personal Finance Tracker – MSSQL schema (idempotent)
   Creates DB, tables, FKs, indexes, and constraints
   ========================================================= */

-- 1) Create database if missing
IF DB_ID('PersonalFinance') IS NULL
BEGIN
  PRINT 'Creating database PersonalFinance...' [42000-232]
2025-10-23 09:41:50.652685+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "CREATE [*]DATABASE PersonalFinance"; expected "OR REPLACE, FORCE, VIEW, MATERIALIZED, ALIAS, SEQUENCE, USER, TRIGGER, ROLE, SCHEMA, CONSTANT, DOMAIN, TYPE, AGGREGATE, LINKED, MEMORY, CACHED, LOCAL TEMPORARY, GLOBAL TEMPORARY, TEMPORARY, TABLE, SYNONYM, UNIQUE, SPATIAL, INDEX"; SQL statement:
CREATE DATABASE PersonalFinance [42001-232]
2025-10-23 09:41:50.656679+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:41:50.659681+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aUSE PersonalFinance"; expected "GRANT"; SQL statement:
GO

USE PersonalFinance [42001-232]
2025-10-23 09:41:50.662681+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a-- 2) Ensure dbo schema exists (it does by default, but keeping it explicit)\000d\000aIF NOT EXISTS (SELECT * FROM sys.schemas WHERE name = 'dbo')\000d\000aBEGIN\000d\000a  EXEC('CREATE SCHEMA dbo')"; expected "GRANT"; SQL statement:
GO

-- 2) Ensure dbo schema exists (it does by default, but keeping it explicit)
IF NOT EXISTS (SELECT * FROM sys.schemas WHERE name = 'dbo')
BEGIN
  EXEC('CREATE SCHEMA dbo') [42001-232]
2025-10-23 09:41:50.664680+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:41:50.666679+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a/* =========================================================\000d\000a   USERS\000d\000a   (matches what you already have in your project)\000d\000a   ========================================================= */\000d\000aIF OBJECT_ID('dbo.Users','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Users\000d\000a  (\000d\000a    User_ID      INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    Username     NVARCHAR(100) NOT NULL UNIQUE,\000d\000a    PasswordHash NVARCHAR(MAX) NOT NULL,\000d\000a    CreatedAt    DATETIME2      NOT NULL DEFAULT SYSDATETIME()\000d\000a  )"; expected "GRANT"; SQL statement:
GO

/* =========================================================
   USERS
   (matches what you already have in your project)
   ========================================================= */
IF OBJECT_ID('dbo.Users','U') IS NULL
BEGIN
  CREATE TABLE dbo.Users
  (
    User_ID      INT IDENTITY(1,1) PRIMARY KEY,
    Username     NVARCHAR(100) NOT NULL UNIQUE,
    PasswordHash NVARCHAR(MAX) NOT NULL,
    CreatedAt    DATETIME2      NOT NULL DEFAULT SYSDATETIME()
  ) [42001-232]
2025-10-23 09:41:50.668680+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:41:50.670682+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a/* =========================================================\000d\000a   ACCOUNTS\000d\000a   User-owned money containers (cash, bank, credit card, etc.)\000d\000a   ========================================================= */\000d\000aIF OBJECT_ID('dbo.Accounts','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Accounts\000d\000a  (\000d\000a    Account_ID INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID    INT           NOT NULL,\000d\000a    Name       NVARCHAR(100) NOT NULL,\000d\000a    Type       NVARCHAR(50)  NOT NULL,     -- e.g. 'Cash','Bank','Credit','Investment'\000d\000a    Currency   CHAR(3)       NOT NULL DEFAULT 'EUR',\000d\000a    Balance    DECIMAL(18,2) NOT NULL DEFAULT 0,\000d\000a    CreatedAt  DATETIME2     NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Accounts_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE\000d\000a  )"; expected "GRANT"; SQL statement:
GO

/* =========================================================
   ACCOUNTS
   User-owned money containers (cash, bank, credit card, etc.)
   ========================================================= */
IF OBJECT_ID('dbo.Accounts','U') IS NULL
BEGIN
  CREATE TABLE dbo.Accounts
  (
    Account_ID INT IDENTITY(1,1) PRIMARY KEY,
    User_ID    INT           NOT NULL,
    Name       NVARCHAR(100) NOT NULL,
    Type       NVARCHAR(50)  NOT NULL,     -- e.g. 'Cash','Bank','Credit','Investment'
    Currency   CHAR(3)       NOT NULL DEFAULT 'EUR',
    Balance    DECIMAL(18,2) NOT NULL DEFAULT 0,
    CreatedAt  DATETIME2     NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Accounts_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE
  ) [42001-232]
2025-10-23 09:41:50.673681+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
-- One account name per user
  CREATE UNIQUE INDEX UX_Accounts_User_Name ON dbo.Accounts(User_ID, Name) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:41:50.678695+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:41:50.681682+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a/* =========================================================\000d\000a   CATEGORIES\000d\000a   Income/Expense categories. Optional parent for hierarchy.\000d\000a   ========================================================= */\000d\000aIF OBJECT_ID('dbo.Categories','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Categories\000d\000a  (\000d\000a    Category_ID         INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID             INT            NOT NULL,\000d\000a    Name                NVARCHAR(100)  NOT NULL,\000d\000a    Type                CHAR(1)        NOT NULL,   -- 'I' income, 'E' expense\000d\000a    Parent_Category_ID  INT            NULL,\000d\000a    CreatedAt           DATETIME2      NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Categories_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT FK_Categories_Parent\000d\000a      FOREIGN KEY (Parent_Category_ID) REFERENCES dbo.Categories(Category_ID),\000d\000a\000d\000a    CONSTRAINT CK_Categories_Type CHECK (Type IN ('I','E'))\000d\000a  )"; expected "GRANT"; SQL statement:
GO

/* =========================================================
   CATEGORIES
   Income/Expense categories. Optional parent for hierarchy.
   ========================================================= */
IF OBJECT_ID('dbo.Categories','U') IS NULL
BEGIN
  CREATE TABLE dbo.Categories
  (
    Category_ID         INT IDENTITY(1,1) PRIMARY KEY,
    User_ID             INT            NOT NULL,
    Name                NVARCHAR(100)  NOT NULL,
    Type                CHAR(1)        NOT NULL,   -- 'I' income, 'E' expense
    Parent_Category_ID  INT            NULL,
    CreatedAt           DATETIME2      NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Categories_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,

    CONSTRAINT FK_Categories_Parent
      FOREIGN KEY (Parent_Category_ID) REFERENCES dbo.Categories(Category_ID),

    CONSTRAINT CK_Categories_Type CHECK (Type IN ('I','E'))
  ) [42001-232]
2025-10-23 09:41:50.683697+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
-- Category name unique per user (siblings)
  CREATE UNIQUE INDEX UX_Categories_User_Name ON dbo.Categories(User_ID, Name) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:41:50.689679+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:41:50.693686+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a/* =========================================================\000d\000a   TRANSACTIONS\000d\000a   Money movements tied to account & category.\000d\000a   Positive amount for income, negative for expense (recommended).\000d\000a   ========================================================= */\000d\000aIF OBJECT_ID('dbo.Transactions','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Transactions\000d\000a  (\000d\000a    Transaction_ID INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID        INT             NOT NULL,\000d\000a    Account_ID     INT             NOT NULL,\000d\000a    Category_ID    INT             NULL,           -- nullable to allow transfers/etc.\000d\000a    Amount         DECIMAL(18,2)   NOT NULL,       -- + income, - expense\000d\000a    TxnDate        DATE            NOT NULL,\000d\000a    Description    NVARCHAR(500)   NULL,\000d\000a    CreatedAt      DATETIME2       NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Transactions_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT FK_Transactions_Account\000d\000a      FOREIGN KEY (Account_ID) REFERENCES dbo.Accounts(Account_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT FK_Transactions_Category\000d\000a      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID)\000d\000a  )"; expected "GRANT"; SQL statement:
GO

/* =========================================================
   TRANSACTIONS
   Money movements tied to account & category.
   Positive amount for income, negative for expense (recommended).
   ========================================================= */
IF OBJECT_ID('dbo.Transactions','U') IS NULL
BEGIN
  CREATE TABLE dbo.Transactions
  (
    Transaction_ID INT IDENTITY(1,1) PRIMARY KEY,
    User_ID        INT             NOT NULL,
    Account_ID     INT             NOT NULL,
    Category_ID    INT             NULL,           -- nullable to allow transfers/etc.
    Amount         DECIMAL(18,2)   NOT NULL,       -- + income, - expense
    TxnDate        DATE            NOT NULL,
    Description    NVARCHAR(500)   NULL,
    CreatedAt      DATETIME2       NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Transactions_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,

    CONSTRAINT FK_Transactions_Account
      FOREIGN KEY (Account_ID) REFERENCES dbo.Accounts(Account_ID) ON DELETE CASCADE,

    CONSTRAINT FK_Transactions_Category
      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID)
  ) [42001-232]
2025-10-23 09:41:50.695695+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
-- Helpful indexes
  CREATE INDEX IX_Transactions_User_Date    ON dbo.Transactions(User_ID, TxnDate) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:41:50.698691+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE INDEX IX_Transactions_Account_Date ON dbo.Transactions(Account_ID, TxnDate) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:41:50.702686+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE INDEX IX_Transactions_Category     ON dbo.Transactions(Category_ID) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:41:50.706683+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:41:50.709689+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a/* =========================================================\000d\000a   TRANSFERS\000d\000a   Explicit account-to-account transfers (also reflected in Transactions via two rows).\000d\000a   ========================================================= */\000d\000aIF OBJECT_ID('dbo.Transfers','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Transfers\000d\000a  (\000d\000a    Transfer_ID      INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID          INT             NOT NULL,\000d\000a    From_Account_ID  INT             NOT NULL,\000d\000a    To_Account_ID    INT             NOT NULL,\000d\000a    Amount           DECIMAL(18,2)   NOT NULL,     -- positive amount\000d\000a    TxnDate          DATE            NOT NULL,\000d\000a    Description      NVARCHAR(500)   NULL,\000d\000a    CreatedAt        DATETIME2       NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Transfers_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT FK_Transfers_FromAccount\000d\000a      FOREIGN KEY (From_Account_ID) REFERENCES dbo.Accounts(Account_ID),\000d\000a\000d\000a    CONSTRAINT FK_Transfers_ToAccount\000d\000a      FOREIGN KEY (To_Account_ID) REFERENCES dbo.Accounts(Account_ID),\000d\000a\000d\000a    CONSTRAINT CK_Transfers_Positive CHECK (Amount > 0),\000d\000a    CONSTRAINT CK_Transfers_DistinctAccounts CHECK (From_Account_ID <> To_Account_ID)\000d\000a  )"; expected "GRANT"; SQL statement:
GO

/* =========================================================
   TRANSFERS
   Explicit account-to-account transfers (also reflected in Transactions via two rows).
   ========================================================= */
IF OBJECT_ID('dbo.Transfers','U') IS NULL
BEGIN
  CREATE TABLE dbo.Transfers
  (
    Transfer_ID      INT IDENTITY(1,1) PRIMARY KEY,
    User_ID          INT             NOT NULL,
    From_Account_ID  INT             NOT NULL,
    To_Account_ID    INT             NOT NULL,
    Amount           DECIMAL(18,2)   NOT NULL,     -- positive amount
    TxnDate          DATE            NOT NULL,
    Description      NVARCHAR(500)   NULL,
    CreatedAt        DATETIME2       NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Transfers_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,

    CONSTRAINT FK_Transfers_FromAccount
      FOREIGN KEY (From_Account_ID) REFERENCES dbo.Accounts(Account_ID),

    CONSTRAINT FK_Transfers_ToAccount
      FOREIGN KEY (To_Account_ID) REFERENCES dbo.Accounts(Account_ID),

    CONSTRAINT CK_Transfers_Positive CHECK (Amount > 0),
    CONSTRAINT CK_Transfers_DistinctAccounts CHECK (From_Account_ID <> To_Account_ID)
  ) [42001-232]
2025-10-23 09:41:50.710691+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE INDEX IX_Transfers_User_Date ON dbo.Transfers(User_ID, TxnDate) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:41:50.713695+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:41:50.714695+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a/* =========================================================\000d\000a   BUDGETS + BUDGET ITEMS\000d\000a   Periodic budgets and category limits.\000d\000a   ========================================================= */\000d\000aIF OBJECT_ID('dbo.Budgets','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Budgets\000d\000a  (\000d\000a    Budget_ID   INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID     INT            NOT NULL,\000d\000a    Name        NVARCHAR(100)  NOT NULL,\000d\000a    PeriodStart DATE           NOT NULL,\000d\000a    PeriodEnd   DATE           NOT NULL,\000d\000a    CreatedAt   DATETIME2      NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Budgets_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT CK_Budgets_Period CHECK (PeriodEnd >= PeriodStart)\000d\000a  )"; expected "GRANT"; SQL statement:
GO

/* =========================================================
   BUDGETS + BUDGET ITEMS
   Periodic budgets and category limits.
   ========================================================= */
IF OBJECT_ID('dbo.Budgets','U') IS NULL
BEGIN
  CREATE TABLE dbo.Budgets
  (
    Budget_ID   INT IDENTITY(1,1) PRIMARY KEY,
    User_ID     INT            NOT NULL,
    Name        NVARCHAR(100)  NOT NULL,
    PeriodStart DATE           NOT NULL,
    PeriodEnd   DATE           NOT NULL,
    CreatedAt   DATETIME2      NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Budgets_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,

    CONSTRAINT CK_Budgets_Period CHECK (PeriodEnd >= PeriodStart)
  ) [42001-232]
2025-10-23 09:41:50.716692+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE UNIQUE INDEX UX_Budgets_User_Name_Dates
    ON dbo.Budgets(User_ID, Name, PeriodStart, PeriodEnd) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:41:50.718690+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:41:50.720684+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aIF OBJECT_ID('dbo.BudgetItems','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.BudgetItems\000d\000a  (\000d\000a    BudgetItem_ID INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    Budget_ID     INT             NOT NULL,\000d\000a    Category_ID   INT             NOT NULL,\000d\000a    LimitAmount   DECIMAL(18,2)   NOT NULL CHECK (LimitAmount >= 0),\000d\000a\000d\000a    CONSTRAINT FK_BudgetItems_Budget\000d\000a      FOREIGN KEY (Budget_ID) REFERENCES dbo.Budgets(Budget_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT FK_BudgetItems_Category\000d\000a      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID)\000d\000a  )"; expected "GRANT"; SQL statement:
GO

IF OBJECT_ID('dbo.BudgetItems','U') IS NULL
BEGIN
  CREATE TABLE dbo.BudgetItems
  (
    BudgetItem_ID INT IDENTITY(1,1) PRIMARY KEY,
    Budget_ID     INT             NOT NULL,
    Category_ID   INT             NOT NULL,
    LimitAmount   DECIMAL(18,2)   NOT NULL CHECK (LimitAmount >= 0),

    CONSTRAINT FK_BudgetItems_Budget
      FOREIGN KEY (Budget_ID) REFERENCES dbo.Budgets(Budget_ID) ON DELETE CASCADE,

    CONSTRAINT FK_BudgetItems_Category
      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID)
  ) [42001-232]
2025-10-23 09:41:50.722695+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE UNIQUE INDEX UX_BudgetItems_Budget_Category
    ON dbo.BudgetItems(Budget_ID, Category_ID) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:41:50.724687+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:41:50.726688+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a/* =========================================================\000d\000a   RECURRING TRANSACTIONS\000d\000a   Templates for automated inserts (cron-like).\000d\000a   ========================================================= */\000d\000aIF OBJECT_ID('dbo.RecurringTransactions','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.RecurringTransactions\000d\000a  (\000d\000a    Recurring_ID  INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID       INT             NOT NULL,\000d\000a    Account_ID    INT             NOT NULL,\000d\000a    Category_ID   INT             NULL,\000d\000a    Amount        DECIMAL(18,2)   NOT NULL,\000d\000a    Frequency     NVARCHAR(20)    NOT NULL, -- DAILY/WEEKLY/MONTHLY/YEARLY/CUSTOM\000d\000a    NextRunDate   DATE            NOT NULL,\000d\000a    Description   NVARCHAR(500)   NULL,\000d\000a    CreatedAt     DATETIME2       NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Recur_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,\000d\000a    CONSTRAINT FK_Recur_Account\000d\000a      FOREIGN KEY (Account_ID) REFERENCES dbo.Accounts(Account_ID),\000d\000a    CONSTRAINT FK_Recur_Category\000d\000a      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID),\000d\000a\000d\000a    CONSTRAINT CK_Recur_Frequency CHECK (Frequency IN ('DAILY','WEEKLY','MONTHLY','YEARLY','CUSTOM'))\000d\000a  )"; expected "GRANT"; SQL statement:
GO

/* =========================================================
   RECURRING TRANSACTIONS
   Templates for automated inserts (cron-like).
   ========================================================= */
IF OBJECT_ID('dbo.RecurringTransactions','U') IS NULL
BEGIN
  CREATE TABLE dbo.RecurringTransactions
  (
    Recurring_ID  INT IDENTITY(1,1) PRIMARY KEY,
    User_ID       INT             NOT NULL,
    Account_ID    INT             NOT NULL,
    Category_ID   INT             NULL,
    Amount        DECIMAL(18,2)   NOT NULL,
    Frequency     NVARCHAR(20)    NOT NULL, -- DAILY/WEEKLY/MONTHLY/YEARLY/CUSTOM
    NextRunDate   DATE            NOT NULL,
    Description   NVARCHAR(500)   NULL,
    CreatedAt     DATETIME2       NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Recur_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,
    CONSTRAINT FK_Recur_Account
      FOREIGN KEY (Account_ID) REFERENCES dbo.Accounts(Account_ID),
    CONSTRAINT FK_Recur_Category
      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID),

    CONSTRAINT CK_Recur_Frequency CHECK (Frequency IN ('DAILY','WEEKLY','MONTHLY','YEARLY','CUSTOM'))
  ) [42001-232]
2025-10-23 09:41:50.728684+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE INDEX IX_Recur_User_NextRun ON dbo.RecurringTransactions(User_ID, NextRunDate) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:41:50.731694+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:41:50.732693+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a/* =========================================================\000d\000a   GOALS\000d\000a   Savings goals with target and progress.\000d\000a   ========================================================= */\000d\000aIF OBJECT_ID('dbo.Goals','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Goals\000d\000a  (\000d\000a    Goal_ID      INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID      INT             NOT NULL,\000d\000a    Name         NVARCHAR(100)   NOT NULL,\000d\000a    TargetAmount DECIMAL(18,2)   NOT NULL CHECK (TargetAmount >= 0),\000d\000a    TargetDate   DATE            NULL,\000d\000a    SavedAmount  DECIMAL(18,2)   NOT NULL DEFAULT 0 CHECK (SavedAmount >= 0),\000d\000a    CreatedAt    DATETIME2       NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Goals_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE\000d\000a  )"; expected "GRANT"; SQL statement:
GO

/* =========================================================
   GOALS
   Savings goals with target and progress.
   ========================================================= */
IF OBJECT_ID('dbo.Goals','U') IS NULL
BEGIN
  CREATE TABLE dbo.Goals
  (
    Goal_ID      INT IDENTITY(1,1) PRIMARY KEY,
    User_ID      INT             NOT NULL,
    Name         NVARCHAR(100)   NOT NULL,
    TargetAmount DECIMAL(18,2)   NOT NULL CHECK (TargetAmount >= 0),
    TargetDate   DATE            NULL,
    SavedAmount  DECIMAL(18,2)   NOT NULL DEFAULT 0 CHECK (SavedAmount >= 0),
    CreatedAt    DATETIME2       NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Goals_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE
  ) [42001-232]
2025-10-23 09:41:50.734695+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE UNIQUE INDEX UX_Goals_User_Name ON dbo.Goals(User_ID, Name) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:41:50.737695+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:41:50.740145+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a/* =========================================================\000d\000a   OPTIONAL: simple views to help with reporting\000d\000a   ========================================================= */\000d\000aIF OBJECT_ID('dbo.vw_AccountBalances','V') IS NULL\000d\000aBEGIN\000d\000a  EXEC('\000d\000a    CREATE VIEW dbo.vw_AccountBalances AS\000d\000a    SELECT\000d\000a      a.Account_ID,\000d\000a      a.User_ID,\000d\000a      a.Name,\000d\000a      a.Currency,\000d\000a      a.Balance,\000d\000a      a.CreatedAt\000d\000a    FROM dbo.Accounts a;\000d\000a  ')"; expected "GRANT"; SQL statement:
GO

/* =========================================================
   OPTIONAL: simple views to help with reporting
   ========================================================= */
IF OBJECT_ID('dbo.vw_AccountBalances','V') IS NULL
BEGIN
  EXEC('
    CREATE VIEW dbo.vw_AccountBalances AS
    SELECT
      a.Account_ID,
      a.User_ID,
      a.Name,
      a.Currency,
      a.Balance,
      a.CreatedAt
    FROM dbo.Accounts a;
  ') [42001-232]
2025-10-23 09:41:50.741161+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:41:50.742161+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aIF OBJECT_ID('dbo.vw_SpendingByCategory','V') IS NULL\000d\000aBEGIN\000d\000a  EXEC('\000d\000a    CREATE VIEW dbo.vw_SpendingByCategory AS\000d\000a    SELECT\000d\000a      t.User_ID,\000d\000a      t.Category_ID,\000d\000a      c.Name AS CategoryName,\000d\000a      SUM(CASE WHEN t.Amount < 0 THEN -t.Amount ELSE 0 END) AS TotalSpent,\000d\000a      SUM(CASE WHEN t.Amount > 0 THEN  t.Amount ELSE 0 END) AS TotalIncome\000d\000a    FROM dbo.Transactions t\000d\000a    LEFT JOIN dbo.Categories c ON c.Category_ID = t.Category_ID\000d\000a    GROUP BY t.User_ID, t.Category_ID, c.Name;\000d\000a  ')"; expected "GRANT"; SQL statement:
GO

IF OBJECT_ID('dbo.vw_SpendingByCategory','V') IS NULL
BEGIN
  EXEC('
    CREATE VIEW dbo.vw_SpendingByCategory AS
    SELECT
      t.User_ID,
      t.Category_ID,
      c.Name AS CategoryName,
      SUM(CASE WHEN t.Amount < 0 THEN -t.Amount ELSE 0 END) AS TotalSpent,
      SUM(CASE WHEN t.Amount > 0 THEN  t.Amount ELSE 0 END) AS TotalIncome
    FROM dbo.Transactions t
    LEFT JOIN dbo.Categories c ON c.Category_ID = t.Category_ID
    GROUP BY t.User_ID, t.Category_ID, c.Name;
  ') [42001-232]
2025-10-23 09:41:50.744156+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:41:50.745191+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aPRINT 'Schema ready.'"; expected "GRANT"; SQL statement:
GO

PRINT 'Schema ready.' [42001-232]
2025-10-23 09:42:06.149333+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "/* =========================================================\000d\000a   Personal Finance Tracker – MSSQL schema (idempotent)\000d\000a   Creates DB, tables, FKs, indexes, and constraints\000d\000a   ========================================================= */\000d\000a\000d\000a-- 1) Create database if missing\000d\000a[*]IF DB_ID('PersonalFinance') IS NULL\000d\000aBEGIN\000d\000a  PRINT 'Creating database PersonalFinance...'"; SQL statement:
/* =========================================================
   Personal Finance Tracker – MSSQL schema (idempotent)
   Creates DB, tables, FKs, indexes, and constraints
   ========================================================= */

-- 1) Create database if missing
IF DB_ID('PersonalFinance') IS NULL
BEGIN
  PRINT 'Creating database PersonalFinance...' [42000-232]
2025-10-23 09:42:06.153333+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "CREATE [*]DATABASE PersonalFinance"; expected "OR REPLACE, FORCE, VIEW, MATERIALIZED, ALIAS, SEQUENCE, USER, TRIGGER, ROLE, SCHEMA, CONSTANT, DOMAIN, TYPE, AGGREGATE, LINKED, MEMORY, CACHED, LOCAL TEMPORARY, GLOBAL TEMPORARY, TEMPORARY, TABLE, SYNONYM, UNIQUE, SPATIAL, INDEX"; SQL statement:
CREATE DATABASE PersonalFinance [42001-232]
2025-10-23 09:42:06.155334+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:42:06.157333+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aUSE PersonalFinance"; expected "GRANT"; SQL statement:
GO

USE PersonalFinance [42001-232]
2025-10-23 09:42:06.159333+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a-- 2) Ensure dbo schema exists (it does by default, but keeping it explicit)\000d\000aIF NOT EXISTS (SELECT * FROM sys.schemas WHERE name = 'dbo')\000d\000aBEGIN\000d\000a  EXEC('CREATE SCHEMA dbo')"; expected "GRANT"; SQL statement:
GO

-- 2) Ensure dbo schema exists (it does by default, but keeping it explicit)
IF NOT EXISTS (SELECT * FROM sys.schemas WHERE name = 'dbo')
BEGIN
  EXEC('CREATE SCHEMA dbo') [42001-232]
2025-10-23 09:42:06.159333+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:42:06.160338+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a/* =========================================================\000d\000a   USERS\000d\000a   (matches what you already have in your project)\000d\000a   ========================================================= */\000d\000aIF OBJECT_ID('dbo.Users','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Users\000d\000a  (\000d\000a    User_ID      INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    Username     NVARCHAR(100) NOT NULL UNIQUE,\000d\000a    PasswordHash NVARCHAR(MAX) NOT NULL,\000d\000a    CreatedAt    DATETIME2      NOT NULL DEFAULT SYSDATETIME()\000d\000a  )"; expected "GRANT"; SQL statement:
GO

/* =========================================================
   USERS
   (matches what you already have in your project)
   ========================================================= */
IF OBJECT_ID('dbo.Users','U') IS NULL
BEGIN
  CREATE TABLE dbo.Users
  (
    User_ID      INT IDENTITY(1,1) PRIMARY KEY,
    Username     NVARCHAR(100) NOT NULL UNIQUE,
    PasswordHash NVARCHAR(MAX) NOT NULL,
    CreatedAt    DATETIME2      NOT NULL DEFAULT SYSDATETIME()
  ) [42001-232]
2025-10-23 09:42:06.161335+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:42:06.163333+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a/* =========================================================\000d\000a   ACCOUNTS\000d\000a   User-owned money containers (cash, bank, credit card, etc.)\000d\000a   ========================================================= */\000d\000aIF OBJECT_ID('dbo.Accounts','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Accounts\000d\000a  (\000d\000a    Account_ID INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID    INT           NOT NULL,\000d\000a    Name       NVARCHAR(100) NOT NULL,\000d\000a    Type       NVARCHAR(50)  NOT NULL,     -- e.g. 'Cash','Bank','Credit','Investment'\000d\000a    Currency   CHAR(3)       NOT NULL DEFAULT 'EUR',\000d\000a    Balance    DECIMAL(18,2) NOT NULL DEFAULT 0,\000d\000a    CreatedAt  DATETIME2     NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Accounts_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE\000d\000a  )"; expected "GRANT"; SQL statement:
GO

/* =========================================================
   ACCOUNTS
   User-owned money containers (cash, bank, credit card, etc.)
   ========================================================= */
IF OBJECT_ID('dbo.Accounts','U') IS NULL
BEGIN
  CREATE TABLE dbo.Accounts
  (
    Account_ID INT IDENTITY(1,1) PRIMARY KEY,
    User_ID    INT           NOT NULL,
    Name       NVARCHAR(100) NOT NULL,
    Type       NVARCHAR(50)  NOT NULL,     -- e.g. 'Cash','Bank','Credit','Investment'
    Currency   CHAR(3)       NOT NULL DEFAULT 'EUR',
    Balance    DECIMAL(18,2) NOT NULL DEFAULT 0,
    CreatedAt  DATETIME2     NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Accounts_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE
  ) [42001-232]
2025-10-23 09:42:06.164335+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
-- One account name per user
  CREATE UNIQUE INDEX UX_Accounts_User_Name ON dbo.Accounts(User_ID, Name) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:42:06.166334+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:42:06.168333+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a/* =========================================================\000d\000a   CATEGORIES\000d\000a   Income/Expense categories. Optional parent for hierarchy.\000d\000a   ========================================================= */\000d\000aIF OBJECT_ID('dbo.Categories','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Categories\000d\000a  (\000d\000a    Category_ID         INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID             INT            NOT NULL,\000d\000a    Name                NVARCHAR(100)  NOT NULL,\000d\000a    Type                CHAR(1)        NOT NULL,   -- 'I' income, 'E' expense\000d\000a    Parent_Category_ID  INT            NULL,\000d\000a    CreatedAt           DATETIME2      NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Categories_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT FK_Categories_Parent\000d\000a      FOREIGN KEY (Parent_Category_ID) REFERENCES dbo.Categories(Category_ID),\000d\000a\000d\000a    CONSTRAINT CK_Categories_Type CHECK (Type IN ('I','E'))\000d\000a  )"; expected "GRANT"; SQL statement:
GO

/* =========================================================
   CATEGORIES
   Income/Expense categories. Optional parent for hierarchy.
   ========================================================= */
IF OBJECT_ID('dbo.Categories','U') IS NULL
BEGIN
  CREATE TABLE dbo.Categories
  (
    Category_ID         INT IDENTITY(1,1) PRIMARY KEY,
    User_ID             INT            NOT NULL,
    Name                NVARCHAR(100)  NOT NULL,
    Type                CHAR(1)        NOT NULL,   -- 'I' income, 'E' expense
    Parent_Category_ID  INT            NULL,
    CreatedAt           DATETIME2      NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Categories_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,

    CONSTRAINT FK_Categories_Parent
      FOREIGN KEY (Parent_Category_ID) REFERENCES dbo.Categories(Category_ID),

    CONSTRAINT CK_Categories_Type CHECK (Type IN ('I','E'))
  ) [42001-232]
2025-10-23 09:42:06.169333+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
-- Category name unique per user (siblings)
  CREATE UNIQUE INDEX UX_Categories_User_Name ON dbo.Categories(User_ID, Name) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:42:06.171334+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:42:06.172335+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a/* =========================================================\000d\000a   TRANSACTIONS\000d\000a   Money movements tied to account & category.\000d\000a   Positive amount for income, negative for expense (recommended).\000d\000a   ========================================================= */\000d\000aIF OBJECT_ID('dbo.Transactions','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Transactions\000d\000a  (\000d\000a    Transaction_ID INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID        INT             NOT NULL,\000d\000a    Account_ID     INT             NOT NULL,\000d\000a    Category_ID    INT             NULL,           -- nullable to allow transfers/etc.\000d\000a    Amount         DECIMAL(18,2)   NOT NULL,       -- + income, - expense\000d\000a    TxnDate        DATE            NOT NULL,\000d\000a    Description    NVARCHAR(500)   NULL,\000d\000a    CreatedAt      DATETIME2       NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Transactions_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT FK_Transactions_Account\000d\000a      FOREIGN KEY (Account_ID) REFERENCES dbo.Accounts(Account_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT FK_Transactions_Category\000d\000a      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID)\000d\000a  )"; expected "GRANT"; SQL statement:
GO

/* =========================================================
   TRANSACTIONS
   Money movements tied to account & category.
   Positive amount for income, negative for expense (recommended).
   ========================================================= */
IF OBJECT_ID('dbo.Transactions','U') IS NULL
BEGIN
  CREATE TABLE dbo.Transactions
  (
    Transaction_ID INT IDENTITY(1,1) PRIMARY KEY,
    User_ID        INT             NOT NULL,
    Account_ID     INT             NOT NULL,
    Category_ID    INT             NULL,           -- nullable to allow transfers/etc.
    Amount         DECIMAL(18,2)   NOT NULL,       -- + income, - expense
    TxnDate        DATE            NOT NULL,
    Description    NVARCHAR(500)   NULL,
    CreatedAt      DATETIME2       NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Transactions_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,

    CONSTRAINT FK_Transactions_Account
      FOREIGN KEY (Account_ID) REFERENCES dbo.Accounts(Account_ID) ON DELETE CASCADE,

    CONSTRAINT FK_Transactions_Category
      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID)
  ) [42001-232]
2025-10-23 09:42:06.173606+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
-- Helpful indexes
  CREATE INDEX IX_Transactions_User_Date    ON dbo.Transactions(User_ID, TxnDate) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:42:06.176619+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE INDEX IX_Transactions_Account_Date ON dbo.Transactions(Account_ID, TxnDate) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:42:06.178619+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE INDEX IX_Transactions_Category     ON dbo.Transactions(Category_ID) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:42:06.180614+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:42:06.181799+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a/* =========================================================\000d\000a   TRANSFERS\000d\000a   Explicit account-to-account transfers (also reflected in Transactions via two rows).\000d\000a   ========================================================= */\000d\000aIF OBJECT_ID('dbo.Transfers','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Transfers\000d\000a  (\000d\000a    Transfer_ID      INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID          INT             NOT NULL,\000d\000a    From_Account_ID  INT             NOT NULL,\000d\000a    To_Account_ID    INT             NOT NULL,\000d\000a    Amount           DECIMAL(18,2)   NOT NULL,     -- positive amount\000d\000a    TxnDate          DATE            NOT NULL,\000d\000a    Description      NVARCHAR(500)   NULL,\000d\000a    CreatedAt        DATETIME2       NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Transfers_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT FK_Transfers_FromAccount\000d\000a      FOREIGN KEY (From_Account_ID) REFERENCES dbo.Accounts(Account_ID),\000d\000a\000d\000a    CONSTRAINT FK_Transfers_ToAccount\000d\000a      FOREIGN KEY (To_Account_ID) REFERENCES dbo.Accounts(Account_ID),\000d\000a\000d\000a    CONSTRAINT CK_Transfers_Positive CHECK (Amount > 0),\000d\000a    CONSTRAINT CK_Transfers_DistinctAccounts CHECK (From_Account_ID <> To_Account_ID)\000d\000a  )"; expected "GRANT"; SQL statement:
GO

/* =========================================================
   TRANSFERS
   Explicit account-to-account transfers (also reflected in Transactions via two rows).
   ========================================================= */
IF OBJECT_ID('dbo.Transfers','U') IS NULL
BEGIN
  CREATE TABLE dbo.Transfers
  (
    Transfer_ID      INT IDENTITY(1,1) PRIMARY KEY,
    User_ID          INT             NOT NULL,
    From_Account_ID  INT             NOT NULL,
    To_Account_ID    INT             NOT NULL,
    Amount           DECIMAL(18,2)   NOT NULL,     -- positive amount
    TxnDate          DATE            NOT NULL,
    Description      NVARCHAR(500)   NULL,
    CreatedAt        DATETIME2       NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Transfers_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,

    CONSTRAINT FK_Transfers_FromAccount
      FOREIGN KEY (From_Account_ID) REFERENCES dbo.Accounts(Account_ID),

    CONSTRAINT FK_Transfers_ToAccount
      FOREIGN KEY (To_Account_ID) REFERENCES dbo.Accounts(Account_ID),

    CONSTRAINT CK_Transfers_Positive CHECK (Amount > 0),
    CONSTRAINT CK_Transfers_DistinctAccounts CHECK (From_Account_ID <> To_Account_ID)
  ) [42001-232]
2025-10-23 09:42:06.182818+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE INDEX IX_Transfers_User_Date ON dbo.Transfers(User_ID, TxnDate) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:42:06.184810+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:42:06.187819+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a/* =========================================================\000d\000a   BUDGETS + BUDGET ITEMS\000d\000a   Periodic budgets and category limits.\000d\000a   ========================================================= */\000d\000aIF OBJECT_ID('dbo.Budgets','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Budgets\000d\000a  (\000d\000a    Budget_ID   INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID     INT            NOT NULL,\000d\000a    Name        NVARCHAR(100)  NOT NULL,\000d\000a    PeriodStart DATE           NOT NULL,\000d\000a    PeriodEnd   DATE           NOT NULL,\000d\000a    CreatedAt   DATETIME2      NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Budgets_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT CK_Budgets_Period CHECK (PeriodEnd >= PeriodStart)\000d\000a  )"; expected "GRANT"; SQL statement:
GO

/* =========================================================
   BUDGETS + BUDGET ITEMS
   Periodic budgets and category limits.
   ========================================================= */
IF OBJECT_ID('dbo.Budgets','U') IS NULL
BEGIN
  CREATE TABLE dbo.Budgets
  (
    Budget_ID   INT IDENTITY(1,1) PRIMARY KEY,
    User_ID     INT            NOT NULL,
    Name        NVARCHAR(100)  NOT NULL,
    PeriodStart DATE           NOT NULL,
    PeriodEnd   DATE           NOT NULL,
    CreatedAt   DATETIME2      NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Budgets_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,

    CONSTRAINT CK_Budgets_Period CHECK (PeriodEnd >= PeriodStart)
  ) [42001-232]
2025-10-23 09:42:06.189822+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE UNIQUE INDEX UX_Budgets_User_Name_Dates
    ON dbo.Budgets(User_ID, Name, PeriodStart, PeriodEnd) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:42:06.192817+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:42:06.193819+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aIF OBJECT_ID('dbo.BudgetItems','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.BudgetItems\000d\000a  (\000d\000a    BudgetItem_ID INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    Budget_ID     INT             NOT NULL,\000d\000a    Category_ID   INT             NOT NULL,\000d\000a    LimitAmount   DECIMAL(18,2)   NOT NULL CHECK (LimitAmount >= 0),\000d\000a\000d\000a    CONSTRAINT FK_BudgetItems_Budget\000d\000a      FOREIGN KEY (Budget_ID) REFERENCES dbo.Budgets(Budget_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT FK_BudgetItems_Category\000d\000a      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID)\000d\000a  )"; expected "GRANT"; SQL statement:
GO

IF OBJECT_ID('dbo.BudgetItems','U') IS NULL
BEGIN
  CREATE TABLE dbo.BudgetItems
  (
    BudgetItem_ID INT IDENTITY(1,1) PRIMARY KEY,
    Budget_ID     INT             NOT NULL,
    Category_ID   INT             NOT NULL,
    LimitAmount   DECIMAL(18,2)   NOT NULL CHECK (LimitAmount >= 0),

    CONSTRAINT FK_BudgetItems_Budget
      FOREIGN KEY (Budget_ID) REFERENCES dbo.Budgets(Budget_ID) ON DELETE CASCADE,

    CONSTRAINT FK_BudgetItems_Category
      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID)
  ) [42001-232]
2025-10-23 09:42:06.195820+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE UNIQUE INDEX UX_BudgetItems_Budget_Category
    ON dbo.BudgetItems(Budget_ID, Category_ID) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:42:06.197819+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:42:06.200822+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a/* =========================================================\000d\000a   RECURRING TRANSACTIONS\000d\000a   Templates for automated inserts (cron-like).\000d\000a   ========================================================= */\000d\000aIF OBJECT_ID('dbo.RecurringTransactions','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.RecurringTransactions\000d\000a  (\000d\000a    Recurring_ID  INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID       INT             NOT NULL,\000d\000a    Account_ID    INT             NOT NULL,\000d\000a    Category_ID   INT             NULL,\000d\000a    Amount        DECIMAL(18,2)   NOT NULL,\000d\000a    Frequency     NVARCHAR(20)    NOT NULL, -- DAILY/WEEKLY/MONTHLY/YEARLY/CUSTOM\000d\000a    NextRunDate   DATE            NOT NULL,\000d\000a    Description   NVARCHAR(500)   NULL,\000d\000a    CreatedAt     DATETIME2       NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Recur_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,\000d\000a    CONSTRAINT FK_Recur_Account\000d\000a      FOREIGN KEY (Account_ID) REFERENCES dbo.Accounts(Account_ID),\000d\000a    CONSTRAINT FK_Recur_Category\000d\000a      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID),\000d\000a\000d\000a    CONSTRAINT CK_Recur_Frequency CHECK (Frequency IN ('DAILY','WEEKLY','MONTHLY','YEARLY','CUSTOM'))\000d\000a  )"; expected "GRANT"; SQL statement:
GO

/* =========================================================
   RECURRING TRANSACTIONS
   Templates for automated inserts (cron-like).
   ========================================================= */
IF OBJECT_ID('dbo.RecurringTransactions','U') IS NULL
BEGIN
  CREATE TABLE dbo.RecurringTransactions
  (
    Recurring_ID  INT IDENTITY(1,1) PRIMARY KEY,
    User_ID       INT             NOT NULL,
    Account_ID    INT             NOT NULL,
    Category_ID   INT             NULL,
    Amount        DECIMAL(18,2)   NOT NULL,
    Frequency     NVARCHAR(20)    NOT NULL, -- DAILY/WEEKLY/MONTHLY/YEARLY/CUSTOM
    NextRunDate   DATE            NOT NULL,
    Description   NVARCHAR(500)   NULL,
    CreatedAt     DATETIME2       NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Recur_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,
    CONSTRAINT FK_Recur_Account
      FOREIGN KEY (Account_ID) REFERENCES dbo.Accounts(Account_ID),
    CONSTRAINT FK_Recur_Category
      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID),

    CONSTRAINT CK_Recur_Frequency CHECK (Frequency IN ('DAILY','WEEKLY','MONTHLY','YEARLY','CUSTOM'))
  ) [42001-232]
2025-10-23 09:42:06.202818+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE INDEX IX_Recur_User_NextRun ON dbo.RecurringTransactions(User_ID, NextRunDate) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:42:06.205817+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:42:06.206812+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a/* =========================================================\000d\000a   GOALS\000d\000a   Savings goals with target and progress.\000d\000a   ========================================================= */\000d\000aIF OBJECT_ID('dbo.Goals','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Goals\000d\000a  (\000d\000a    Goal_ID      INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID      INT             NOT NULL,\000d\000a    Name         NVARCHAR(100)   NOT NULL,\000d\000a    TargetAmount DECIMAL(18,2)   NOT NULL CHECK (TargetAmount >= 0),\000d\000a    TargetDate   DATE            NULL,\000d\000a    SavedAmount  DECIMAL(18,2)   NOT NULL DEFAULT 0 CHECK (SavedAmount >= 0),\000d\000a    CreatedAt    DATETIME2       NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Goals_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE\000d\000a  )"; expected "GRANT"; SQL statement:
GO

/* =========================================================
   GOALS
   Savings goals with target and progress.
   ========================================================= */
IF OBJECT_ID('dbo.Goals','U') IS NULL
BEGIN
  CREATE TABLE dbo.Goals
  (
    Goal_ID      INT IDENTITY(1,1) PRIMARY KEY,
    User_ID      INT             NOT NULL,
    Name         NVARCHAR(100)   NOT NULL,
    TargetAmount DECIMAL(18,2)   NOT NULL CHECK (TargetAmount >= 0),
    TargetDate   DATE            NULL,
    SavedAmount  DECIMAL(18,2)   NOT NULL DEFAULT 0 CHECK (SavedAmount >= 0),
    CreatedAt    DATETIME2       NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Goals_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE
  ) [42001-232]
2025-10-23 09:42:06.207891+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE UNIQUE INDEX UX_Goals_User_Name ON dbo.Goals(User_ID, Name) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:42:06.209919+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:42:06.210920+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000aIF OBJECT_ID('dbo.vw_AccountBalances','V') IS NULL\000d\000aBEGIN\000d\000a  EXEC('\000d\000a    CREATE VIEW dbo.vw_AccountBalances AS\000d\000a    SELECT\000d\000a      a.Account_ID,\000d\000a      a.User_ID,\000d\000a      a.Name,\000d\000a      a.Currency,\000d\000a      a.Balance,\000d\000a      a.CreatedAt\000d\000a    FROM dbo.Accounts a;\000d\000a  ')"; expected "GRANT"; SQL statement:
GO
IF OBJECT_ID('dbo.vw_AccountBalances','V') IS NULL
BEGIN
  EXEC('
    CREATE VIEW dbo.vw_AccountBalances AS
    SELECT
      a.Account_ID,
      a.User_ID,
      a.Name,
      a.Currency,
      a.Balance,
      a.CreatedAt
    FROM dbo.Accounts a;
  ') [42001-232]
2025-10-23 09:42:06.212928+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:42:06.213926+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aIF OBJECT_ID('dbo.vw_SpendingByCategory','V') IS NULL\000d\000aBEGIN\000d\000a  EXEC('\000d\000a    CREATE VIEW dbo.vw_SpendingByCategory AS\000d\000a    SELECT\000d\000a      t.User_ID,\000d\000a      t.Category_ID,\000d\000a      c.Name AS CategoryName,\000d\000a      SUM(CASE WHEN t.Amount < 0 THEN -t.Amount ELSE 0 END) AS TotalSpent,\000d\000a      SUM(CASE WHEN t.Amount > 0 THEN  t.Amount ELSE 0 END) AS TotalIncome\000d\000a    FROM dbo.Transactions t\000d\000a    LEFT JOIN dbo.Categories c ON c.Category_ID = t.Category_ID\000d\000a    GROUP BY t.User_ID, t.Category_ID, c.Name;\000d\000a  ')"; expected "GRANT"; SQL statement:
GO

IF OBJECT_ID('dbo.vw_SpendingByCategory','V') IS NULL
BEGIN
  EXEC('
    CREATE VIEW dbo.vw_SpendingByCategory AS
    SELECT
      t.User_ID,
      t.Category_ID,
      c.Name AS CategoryName,
      SUM(CASE WHEN t.Amount < 0 THEN -t.Amount ELSE 0 END) AS TotalSpent,
      SUM(CASE WHEN t.Amount > 0 THEN  t.Amount ELSE 0 END) AS TotalIncome
    FROM dbo.Transactions t
    LEFT JOIN dbo.Categories c ON c.Category_ID = t.Category_ID
    GROUP BY t.User_ID, t.Category_ID, c.Name;
  ') [42001-232]
2025-10-23 09:42:06.214927+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:42:06.214927+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aPRINT 'Schema ready.'"; expected "GRANT"; SQL statement:
GO

PRINT 'Schema ready.' [42001-232]
2025-10-23 09:42:06.239460+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "/* =========================================================\000d\000a   Personal Finance Tracker – MSSQL schema (idempotent)\000d\000a   Creates DB, tables, FKs, indexes, and constraints\000d\000a   ========================================================= */\000d\000a\000d\000a-- 1) Create database if missing\000d\000a[*]IF DB_ID('PersonalFinance') IS NULL\000d\000aBEGIN\000d\000a  PRINT 'Creating database PersonalFinance...'"; SQL statement:
/* =========================================================
   Personal Finance Tracker – MSSQL schema (idempotent)
   Creates DB, tables, FKs, indexes, and constraints
   ========================================================= */

-- 1) Create database if missing
IF DB_ID('PersonalFinance') IS NULL
BEGIN
  PRINT 'Creating database PersonalFinance...' [42000-232]
2025-10-23 09:42:06.241458+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "CREATE [*]DATABASE PersonalFinance"; expected "OR REPLACE, FORCE, VIEW, MATERIALIZED, ALIAS, SEQUENCE, USER, TRIGGER, ROLE, SCHEMA, CONSTANT, DOMAIN, TYPE, AGGREGATE, LINKED, MEMORY, CACHED, LOCAL TEMPORARY, GLOBAL TEMPORARY, TEMPORARY, TABLE, SYNONYM, UNIQUE, SPATIAL, INDEX"; SQL statement:
CREATE DATABASE PersonalFinance [42001-232]
2025-10-23 09:42:06.242460+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:42:06.243462+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aUSE PersonalFinance"; expected "GRANT"; SQL statement:
GO

USE PersonalFinance [42001-232]
2025-10-23 09:42:06.244597+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a-- 2) Ensure dbo schema exists (it does by default, but keeping it explicit)\000d\000aIF NOT EXISTS (SELECT * FROM sys.schemas WHERE name = 'dbo')\000d\000aBEGIN\000d\000a  EXEC('CREATE SCHEMA dbo')"; expected "GRANT"; SQL statement:
GO

-- 2) Ensure dbo schema exists (it does by default, but keeping it explicit)
IF NOT EXISTS (SELECT * FROM sys.schemas WHERE name = 'dbo')
BEGIN
  EXEC('CREATE SCHEMA dbo') [42001-232]
2025-10-23 09:42:06.245612+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:42:06.247615+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a/* =========================================================\000d\000a   USERS\000d\000a   (matches what you already have in your project)\000d\000a   ========================================================= */\000d\000aIF OBJECT_ID('dbo.Users','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Users\000d\000a  (\000d\000a    User_ID      INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    Username     NVARCHAR(100) NOT NULL UNIQUE,\000d\000a    PasswordHash NVARCHAR(MAX) NOT NULL,\000d\000a    CreatedAt    DATETIME2      NOT NULL DEFAULT SYSDATETIME()\000d\000a  )"; expected "GRANT"; SQL statement:
GO

/* =========================================================
   USERS
   (matches what you already have in your project)
   ========================================================= */
IF OBJECT_ID('dbo.Users','U') IS NULL
BEGIN
  CREATE TABLE dbo.Users
  (
    User_ID      INT IDENTITY(1,1) PRIMARY KEY,
    Username     NVARCHAR(100) NOT NULL UNIQUE,
    PasswordHash NVARCHAR(MAX) NOT NULL,
    CreatedAt    DATETIME2      NOT NULL DEFAULT SYSDATETIME()
  ) [42001-232]
2025-10-23 09:42:06.249614+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:42:06.252612+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a/* =========================================================\000d\000a   ACCOUNTS\000d\000a   User-owned money containers (cash, bank, credit card, etc.)\000d\000a   ========================================================= */\000d\000aIF OBJECT_ID('dbo.Accounts','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Accounts\000d\000a  (\000d\000a    Account_ID INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID    INT           NOT NULL,\000d\000a    Name       NVARCHAR(100) NOT NULL,\000d\000a    Type       NVARCHAR(50)  NOT NULL,     -- e.g. 'Cash','Bank','Credit','Investment'\000d\000a    Currency   CHAR(3)       NOT NULL DEFAULT 'EUR',\000d\000a    Balance    DECIMAL(18,2) NOT NULL DEFAULT 0,\000d\000a    CreatedAt  DATETIME2     NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Accounts_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE\000d\000a  )"; expected "GRANT"; SQL statement:
GO

/* =========================================================
   ACCOUNTS
   User-owned money containers (cash, bank, credit card, etc.)
   ========================================================= */
IF OBJECT_ID('dbo.Accounts','U') IS NULL
BEGIN
  CREATE TABLE dbo.Accounts
  (
    Account_ID INT IDENTITY(1,1) PRIMARY KEY,
    User_ID    INT           NOT NULL,
    Name       NVARCHAR(100) NOT NULL,
    Type       NVARCHAR(50)  NOT NULL,     -- e.g. 'Cash','Bank','Credit','Investment'
    Currency   CHAR(3)       NOT NULL DEFAULT 'EUR',
    Balance    DECIMAL(18,2) NOT NULL DEFAULT 0,
    CreatedAt  DATETIME2     NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Accounts_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE
  ) [42001-232]
2025-10-23 09:42:06.253623+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
-- One account name per user
  CREATE UNIQUE INDEX UX_Accounts_User_Name ON dbo.Accounts(User_ID, Name) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:42:06.255616+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:42:06.257615+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a/* =========================================================\000d\000a   CATEGORIES\000d\000a   Income/Expense categories. Optional parent for hierarchy.\000d\000a   ========================================================= */\000d\000aIF OBJECT_ID('dbo.Categories','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Categories\000d\000a  (\000d\000a    Category_ID         INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID             INT            NOT NULL,\000d\000a    Name                NVARCHAR(100)  NOT NULL,\000d\000a    Type                CHAR(1)        NOT NULL,   -- 'I' income, 'E' expense\000d\000a    Parent_Category_ID  INT            NULL,\000d\000a    CreatedAt           DATETIME2      NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Categories_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT FK_Categories_Parent\000d\000a      FOREIGN KEY (Parent_Category_ID) REFERENCES dbo.Categories(Category_ID),\000d\000a\000d\000a    CONSTRAINT CK_Categories_Type CHECK (Type IN ('I','E'))\000d\000a  )"; expected "GRANT"; SQL statement:
GO

/* =========================================================
   CATEGORIES
   Income/Expense categories. Optional parent for hierarchy.
   ========================================================= */
IF OBJECT_ID('dbo.Categories','U') IS NULL
BEGIN
  CREATE TABLE dbo.Categories
  (
    Category_ID         INT IDENTITY(1,1) PRIMARY KEY,
    User_ID             INT            NOT NULL,
    Name                NVARCHAR(100)  NOT NULL,
    Type                CHAR(1)        NOT NULL,   -- 'I' income, 'E' expense
    Parent_Category_ID  INT            NULL,
    CreatedAt           DATETIME2      NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Categories_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,

    CONSTRAINT FK_Categories_Parent
      FOREIGN KEY (Parent_Category_ID) REFERENCES dbo.Categories(Category_ID),

    CONSTRAINT CK_Categories_Type CHECK (Type IN ('I','E'))
  ) [42001-232]
2025-10-23 09:42:06.259612+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
-- Category name unique per user (siblings)
  CREATE UNIQUE INDEX UX_Categories_User_Name ON dbo.Categories(User_ID, Name) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:42:06.261611+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:42:06.263615+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a/* =========================================================\000d\000a   TRANSACTIONS\000d\000a   Money movements tied to account & category.\000d\000a   Positive amount for income, negative for expense (recommended).\000d\000a   ========================================================= */\000d\000aIF OBJECT_ID('dbo.Transactions','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Transactions\000d\000a  (\000d\000a    Transaction_ID INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID        INT             NOT NULL,\000d\000a    Account_ID     INT             NOT NULL,\000d\000a    Category_ID    INT             NULL,           -- nullable to allow transfers/etc.\000d\000a    Amount         DECIMAL(18,2)   NOT NULL,       -- + income, - expense\000d\000a    TxnDate        DATE            NOT NULL,\000d\000a    Description    NVARCHAR(500)   NULL,\000d\000a    CreatedAt      DATETIME2       NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Transactions_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT FK_Transactions_Account\000d\000a      FOREIGN KEY (Account_ID) REFERENCES dbo.Accounts(Account_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT FK_Transactions_Category\000d\000a      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID)\000d\000a  )"; expected "GRANT"; SQL statement:
GO

/* =========================================================
   TRANSACTIONS
   Money movements tied to account & category.
   Positive amount for income, negative for expense (recommended).
   ========================================================= */
IF OBJECT_ID('dbo.Transactions','U') IS NULL
BEGIN
  CREATE TABLE dbo.Transactions
  (
    Transaction_ID INT IDENTITY(1,1) PRIMARY KEY,
    User_ID        INT             NOT NULL,
    Account_ID     INT             NOT NULL,
    Category_ID    INT             NULL,           -- nullable to allow transfers/etc.
    Amount         DECIMAL(18,2)   NOT NULL,       -- + income, - expense
    TxnDate        DATE            NOT NULL,
    Description    NVARCHAR(500)   NULL,
    CreatedAt      DATETIME2       NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Transactions_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,

    CONSTRAINT FK_Transactions_Account
      FOREIGN KEY (Account_ID) REFERENCES dbo.Accounts(Account_ID) ON DELETE CASCADE,

    CONSTRAINT FK_Transactions_Category
      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID)
  ) [42001-232]
2025-10-23 09:42:06.265611+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
-- Helpful indexes
  CREATE INDEX IX_Transactions_User_Date    ON dbo.Transactions(User_ID, TxnDate) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:42:06.268611+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE INDEX IX_Transactions_Account_Date ON dbo.Transactions(Account_ID, TxnDate) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:42:06.271619+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE INDEX IX_Transactions_Category     ON dbo.Transactions(Category_ID) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:42:06.274613+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:42:06.276614+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a/* =========================================================\000d\000a   TRANSFERS\000d\000a   Explicit account-to-account transfers (also reflected in Transactions via two rows).\000d\000a   ========================================================= */\000d\000aIF OBJECT_ID('dbo.Transfers','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Transfers\000d\000a  (\000d\000a    Transfer_ID      INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID          INT             NOT NULL,\000d\000a    From_Account_ID  INT             NOT NULL,\000d\000a    To_Account_ID    INT             NOT NULL,\000d\000a    Amount           DECIMAL(18,2)   NOT NULL,     -- positive amount\000d\000a    TxnDate          DATE            NOT NULL,\000d\000a    Description      NVARCHAR(500)   NULL,\000d\000a    CreatedAt        DATETIME2       NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Transfers_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT FK_Transfers_FromAccount\000d\000a      FOREIGN KEY (From_Account_ID) REFERENCES dbo.Accounts(Account_ID),\000d\000a\000d\000a    CONSTRAINT FK_Transfers_ToAccount\000d\000a      FOREIGN KEY (To_Account_ID) REFERENCES dbo.Accounts(Account_ID),\000d\000a\000d\000a    CONSTRAINT CK_Transfers_Positive CHECK (Amount > 0),\000d\000a    CONSTRAINT CK_Transfers_DistinctAccounts CHECK (From_Account_ID <> To_Account_ID)\000d\000a  )"; expected "GRANT"; SQL statement:
GO

/* =========================================================
   TRANSFERS
   Explicit account-to-account transfers (also reflected in Transactions via two rows).
   ========================================================= */
IF OBJECT_ID('dbo.Transfers','U') IS NULL
BEGIN
  CREATE TABLE dbo.Transfers
  (
    Transfer_ID      INT IDENTITY(1,1) PRIMARY KEY,
    User_ID          INT             NOT NULL,
    From_Account_ID  INT             NOT NULL,
    To_Account_ID    INT             NOT NULL,
    Amount           DECIMAL(18,2)   NOT NULL,     -- positive amount
    TxnDate          DATE            NOT NULL,
    Description      NVARCHAR(500)   NULL,
    CreatedAt        DATETIME2       NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Transfers_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,

    CONSTRAINT FK_Transfers_FromAccount
      FOREIGN KEY (From_Account_ID) REFERENCES dbo.Accounts(Account_ID),

    CONSTRAINT FK_Transfers_ToAccount
      FOREIGN KEY (To_Account_ID) REFERENCES dbo.Accounts(Account_ID),

    CONSTRAINT CK_Transfers_Positive CHECK (Amount > 0),
    CONSTRAINT CK_Transfers_DistinctAccounts CHECK (From_Account_ID <> To_Account_ID)
  ) [42001-232]
2025-10-23 09:42:06.278617+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE INDEX IX_Transfers_User_Date ON dbo.Transfers(User_ID, TxnDate) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:42:06.281610+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:42:06.283614+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a/* =========================================================\000d\000a   BUDGETS + BUDGET ITEMS\000d\000a   Periodic budgets and category limits.\000d\000a   ========================================================= */\000d\000aIF OBJECT_ID('dbo.Budgets','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Budgets\000d\000a  (\000d\000a    Budget_ID   INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID     INT            NOT NULL,\000d\000a    Name        NVARCHAR(100)  NOT NULL,\000d\000a    PeriodStart DATE           NOT NULL,\000d\000a    PeriodEnd   DATE           NOT NULL,\000d\000a    CreatedAt   DATETIME2      NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Budgets_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT CK_Budgets_Period CHECK (PeriodEnd >= PeriodStart)\000d\000a  )"; expected "GRANT"; SQL statement:
GO

/* =========================================================
   BUDGETS + BUDGET ITEMS
   Periodic budgets and category limits.
   ========================================================= */
IF OBJECT_ID('dbo.Budgets','U') IS NULL
BEGIN
  CREATE TABLE dbo.Budgets
  (
    Budget_ID   INT IDENTITY(1,1) PRIMARY KEY,
    User_ID     INT            NOT NULL,
    Name        NVARCHAR(100)  NOT NULL,
    PeriodStart DATE           NOT NULL,
    PeriodEnd   DATE           NOT NULL,
    CreatedAt   DATETIME2      NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Budgets_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,

    CONSTRAINT CK_Budgets_Period CHECK (PeriodEnd >= PeriodStart)
  ) [42001-232]
2025-10-23 09:42:06.284612+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE UNIQUE INDEX UX_Budgets_User_Name_Dates
    ON dbo.Budgets(User_ID, Name, PeriodStart, PeriodEnd) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:42:06.287608+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:42:06.289611+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aIF OBJECT_ID('dbo.BudgetItems','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.BudgetItems\000d\000a  (\000d\000a    BudgetItem_ID INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    Budget_ID     INT             NOT NULL,\000d\000a    Category_ID   INT             NOT NULL,\000d\000a    LimitAmount   DECIMAL(18,2)   NOT NULL CHECK (LimitAmount >= 0),\000d\000a\000d\000a    CONSTRAINT FK_BudgetItems_Budget\000d\000a      FOREIGN KEY (Budget_ID) REFERENCES dbo.Budgets(Budget_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT FK_BudgetItems_Category\000d\000a      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID)\000d\000a  )"; expected "GRANT"; SQL statement:
GO

IF OBJECT_ID('dbo.BudgetItems','U') IS NULL
BEGIN
  CREATE TABLE dbo.BudgetItems
  (
    BudgetItem_ID INT IDENTITY(1,1) PRIMARY KEY,
    Budget_ID     INT             NOT NULL,
    Category_ID   INT             NOT NULL,
    LimitAmount   DECIMAL(18,2)   NOT NULL CHECK (LimitAmount >= 0),

    CONSTRAINT FK_BudgetItems_Budget
      FOREIGN KEY (Budget_ID) REFERENCES dbo.Budgets(Budget_ID) ON DELETE CASCADE,

    CONSTRAINT FK_BudgetItems_Category
      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID)
  ) [42001-232]
2025-10-23 09:42:06.291609+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE UNIQUE INDEX UX_BudgetItems_Budget_Category
    ON dbo.BudgetItems(Budget_ID, Category_ID) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:42:06.293611+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:42:06.296614+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a/* =========================================================\000d\000a   RECURRING TRANSACTIONS\000d\000a   Templates for automated inserts (cron-like).\000d\000a   ========================================================= */\000d\000aIF OBJECT_ID('dbo.RecurringTransactions','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.RecurringTransactions\000d\000a  (\000d\000a    Recurring_ID  INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID       INT             NOT NULL,\000d\000a    Account_ID    INT             NOT NULL,\000d\000a    Category_ID   INT             NULL,\000d\000a    Amount        DECIMAL(18,2)   NOT NULL,\000d\000a    Frequency     NVARCHAR(20)    NOT NULL, -- DAILY/WEEKLY/MONTHLY/YEARLY/CUSTOM\000d\000a    NextRunDate   DATE            NOT NULL,\000d\000a    Description   NVARCHAR(500)   NULL,\000d\000a    CreatedAt     DATETIME2       NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Recur_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,\000d\000a    CONSTRAINT FK_Recur_Account\000d\000a      FOREIGN KEY (Account_ID) REFERENCES dbo.Accounts(Account_ID),\000d\000a    CONSTRAINT FK_Recur_Category\000d\000a      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID),\000d\000a\000d\000a    CONSTRAINT CK_Recur_Frequency CHECK (Frequency IN ('DAILY','WEEKLY','MONTHLY','YEARLY','CUSTOM'))\000d\000a  )"; expected "GRANT"; SQL statement:
GO

/* =========================================================
   RECURRING TRANSACTIONS
   Templates for automated inserts (cron-like).
   ========================================================= */
IF OBJECT_ID('dbo.RecurringTransactions','U') IS NULL
BEGIN
  CREATE TABLE dbo.RecurringTransactions
  (
    Recurring_ID  INT IDENTITY(1,1) PRIMARY KEY,
    User_ID       INT             NOT NULL,
    Account_ID    INT             NOT NULL,
    Category_ID   INT             NULL,
    Amount        DECIMAL(18,2)   NOT NULL,
    Frequency     NVARCHAR(20)    NOT NULL, -- DAILY/WEEKLY/MONTHLY/YEARLY/CUSTOM
    NextRunDate   DATE            NOT NULL,
    Description   NVARCHAR(500)   NULL,
    CreatedAt     DATETIME2       NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Recur_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,
    CONSTRAINT FK_Recur_Account
      FOREIGN KEY (Account_ID) REFERENCES dbo.Accounts(Account_ID),
    CONSTRAINT FK_Recur_Category
      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID),

    CONSTRAINT CK_Recur_Frequency CHECK (Frequency IN ('DAILY','WEEKLY','MONTHLY','YEARLY','CUSTOM'))
  ) [42001-232]
2025-10-23 09:42:06.298617+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE INDEX IX_Recur_User_NextRun ON dbo.RecurringTransactions(User_ID, NextRunDate) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:42:06.301632+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:42:06.303620+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a/* =========================================================\000d\000a   GOALS\000d\000a   Savings goals with target and progress.\000d\000a   ========================================================= */\000d\000aIF OBJECT_ID('dbo.Goals','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Goals\000d\000a  (\000d\000a    Goal_ID      INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID      INT             NOT NULL,\000d\000a    Name         NVARCHAR(100)   NOT NULL,\000d\000a    TargetAmount DECIMAL(18,2)   NOT NULL CHECK (TargetAmount >= 0),\000d\000a    TargetDate   DATE            NULL,\000d\000a    SavedAmount  DECIMAL(18,2)   NOT NULL DEFAULT 0 CHECK (SavedAmount >= 0),\000d\000a    CreatedAt    DATETIME2       NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Goals_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE\000d\000a  )"; expected "GRANT"; SQL statement:
GO

/* =========================================================
   GOALS
   Savings goals with target and progress.
   ========================================================= */
IF OBJECT_ID('dbo.Goals','U') IS NULL
BEGIN
  CREATE TABLE dbo.Goals
  (
    Goal_ID      INT IDENTITY(1,1) PRIMARY KEY,
    User_ID      INT             NOT NULL,
    Name         NVARCHAR(100)   NOT NULL,
    TargetAmount DECIMAL(18,2)   NOT NULL CHECK (TargetAmount >= 0),
    TargetDate   DATE            NULL,
    SavedAmount  DECIMAL(18,2)   NOT NULL DEFAULT 0 CHECK (SavedAmount >= 0),
    CreatedAt    DATETIME2       NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Goals_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE
  ) [42001-232]
2025-10-23 09:42:06.305621+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE UNIQUE INDEX UX_Goals_User_Name ON dbo.Goals(User_ID, Name) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:42:06.308620+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:42:06.310606+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000aIF OBJECT_ID('dbo.vw_AccountBalances','V') IS NULL\000d\000aBEGIN\000d\000a  EXEC('\000d\000a    CREATE VIEW dbo.vw_AccountBalances AS\000d\000a    SELECT\000d\000a      a.Account_ID,\000d\000a      a.User_ID,\000d\000a      a.Name,\000d\000a      a.Currency,\000d\000a      a.Balance,\000d\000a      a.CreatedAt\000d\000a    FROM dbo.Accounts a;\000d\000a  ')"; expected "GRANT"; SQL statement:
GO
IF OBJECT_ID('dbo.vw_AccountBalances','V') IS NULL
BEGIN
  EXEC('
    CREATE VIEW dbo.vw_AccountBalances AS
    SELECT
      a.Account_ID,
      a.User_ID,
      a.Name,
      a.Currency,
      a.Balance,
      a.CreatedAt
    FROM dbo.Accounts a;
  ') [42001-232]
2025-10-23 09:42:06.312629+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:42:06.313615+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aIF OBJECT_ID('dbo.vw_SpendingByCategory','V') IS NULL\000d\000aBEGIN\000d\000a  EXEC('\000d\000a    CREATE VIEW dbo.vw_SpendingByCategory AS\000d\000a    SELECT\000d\000a      t.User_ID,\000d\000a      t.Category_ID,\000d\000a      c.Name AS CategoryName,\000d\000a      SUM(CASE WHEN t.Amount < 0 THEN -t.Amount ELSE 0 END) AS TotalSpent,\000d\000a      SUM(CASE WHEN t.Amount > 0 THEN  t.Amount ELSE 0 END) AS TotalIncome\000d\000a    FROM dbo.Transactions t\000d\000a    LEFT JOIN dbo.Categories c ON c.Category_ID = t.Category_ID\000d\000a    GROUP BY t.User_ID, t.Category_ID, c.Name;\000d\000a  ')"; expected "GRANT"; SQL statement:
GO

IF OBJECT_ID('dbo.vw_SpendingByCategory','V') IS NULL
BEGIN
  EXEC('
    CREATE VIEW dbo.vw_SpendingByCategory AS
    SELECT
      t.User_ID,
      t.Category_ID,
      c.Name AS CategoryName,
      SUM(CASE WHEN t.Amount < 0 THEN -t.Amount ELSE 0 END) AS TotalSpent,
      SUM(CASE WHEN t.Amount > 0 THEN  t.Amount ELSE 0 END) AS TotalIncome
    FROM dbo.Transactions t
    LEFT JOIN dbo.Categories c ON c.Category_ID = t.Category_ID
    GROUP BY t.User_ID, t.Category_ID, c.Name;
  ') [42001-232]
2025-10-23 09:42:06.314624+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:42:06.316618+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aPRINT 'Schema ready.'"; expected "GRANT"; SQL statement:
GO

PRINT 'Schema ready.' [42001-232]
2025-10-23 09:43:06.105042+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "-- 1) Create database if missing\000d\000a[*]IF DB_ID('PersonalFinance') IS NULL\000d\000aBEGIN\000d\000a  PRINT 'Creating database PersonalFinance...'"; SQL statement:
-- 1) Create database if missing
IF DB_ID('PersonalFinance') IS NULL
BEGIN
  PRINT 'Creating database PersonalFinance...' [42000-232]
2025-10-23 09:43:06.107030+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "CREATE [*]DATABASE PersonalFinance"; expected "OR REPLACE, FORCE, VIEW, MATERIALIZED, ALIAS, SEQUENCE, USER, TRIGGER, ROLE, SCHEMA, CONSTANT, DOMAIN, TYPE, AGGREGATE, LINKED, MEMORY, CACHED, LOCAL TEMPORARY, GLOBAL TEMPORARY, TEMPORARY, TABLE, SYNONYM, UNIQUE, SPATIAL, INDEX"; SQL statement:
CREATE DATABASE PersonalFinance [42001-232]
2025-10-23 09:43:06.108021+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:43:06.109033+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aUSE PersonalFinance"; expected "GRANT"; SQL statement:
GO

USE PersonalFinance [42001-232]
2025-10-23 09:43:06.110030+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a-- 2) Ensure dbo schema exists (it does by default, but keeping it explicit)\000d\000aIF NOT EXISTS (SELECT * FROM sys.schemas WHERE name = 'dbo')\000d\000aBEGIN\000d\000a  EXEC('CREATE SCHEMA dbo')"; expected "GRANT"; SQL statement:
GO

-- 2) Ensure dbo schema exists (it does by default, but keeping it explicit)
IF NOT EXISTS (SELECT * FROM sys.schemas WHERE name = 'dbo')
BEGIN
  EXEC('CREATE SCHEMA dbo') [42001-232]
2025-10-23 09:43:06.110030+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:43:06.111023+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000aIF OBJECT_ID('dbo.Users','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Users\000d\000a  (\000d\000a    User_ID      INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    Username     NVARCHAR(100) NOT NULL UNIQUE,\000d\000a    PasswordHash NVARCHAR(MAX) NOT NULL,\000d\000a    CreatedAt    DATETIME2      NOT NULL DEFAULT SYSDATETIME()\000d\000a  )"; expected "GRANT"; SQL statement:
GO
IF OBJECT_ID('dbo.Users','U') IS NULL
BEGIN
  CREATE TABLE dbo.Users
  (
    User_ID      INT IDENTITY(1,1) PRIMARY KEY,
    Username     NVARCHAR(100) NOT NULL UNIQUE,
    PasswordHash NVARCHAR(MAX) NOT NULL,
    CreatedAt    DATETIME2      NOT NULL DEFAULT SYSDATETIME()
  ) [42001-232]
2025-10-23 09:43:06.111023+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:43:06.112023+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aIF OBJECT_ID('dbo.Accounts','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Accounts\000d\000a  (\000d\000a    Account_ID INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID    INT           NOT NULL,\000d\000a    Name       NVARCHAR(100) NOT NULL,\000d\000a    Type       NVARCHAR(50)  NOT NULL,     -- e.g. 'Cash','Bank','Credit','Investment'\000d\000a    Currency   CHAR(3)       NOT NULL DEFAULT 'EUR',\000d\000a    Balance    DECIMAL(18,2) NOT NULL DEFAULT 0,\000d\000a    CreatedAt  DATETIME2     NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Accounts_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE\000d\000a  )"; expected "GRANT"; SQL statement:
GO

IF OBJECT_ID('dbo.Accounts','U') IS NULL
BEGIN
  CREATE TABLE dbo.Accounts
  (
    Account_ID INT IDENTITY(1,1) PRIMARY KEY,
    User_ID    INT           NOT NULL,
    Name       NVARCHAR(100) NOT NULL,
    Type       NVARCHAR(50)  NOT NULL,     -- e.g. 'Cash','Bank','Credit','Investment'
    Currency   CHAR(3)       NOT NULL DEFAULT 'EUR',
    Balance    DECIMAL(18,2) NOT NULL DEFAULT 0,
    CreatedAt  DATETIME2     NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Accounts_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE
  ) [42001-232]
2025-10-23 09:43:06.115028+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
-- One account name per user
  CREATE UNIQUE INDEX UX_Accounts_User_Name ON dbo.Accounts(User_ID, Name) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:43:06.117025+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:43:06.119164+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aIF OBJECT_ID('dbo.Categories','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Categories\000d\000a  (\000d\000a    Category_ID         INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID             INT            NOT NULL,\000d\000a    Name                NVARCHAR(100)  NOT NULL,\000d\000a    Type                CHAR(1)        NOT NULL,   -- 'I' income, 'E' expense\000d\000a    Parent_Category_ID  INT            NULL,\000d\000a    CreatedAt           DATETIME2      NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Categories_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT FK_Categories_Parent\000d\000a      FOREIGN KEY (Parent_Category_ID) REFERENCES dbo.Categories(Category_ID),\000d\000a\000d\000a    CONSTRAINT CK_Categories_Type CHECK (Type IN ('I','E'))\000d\000a  )"; expected "GRANT"; SQL statement:
GO

IF OBJECT_ID('dbo.Categories','U') IS NULL
BEGIN
  CREATE TABLE dbo.Categories
  (
    Category_ID         INT IDENTITY(1,1) PRIMARY KEY,
    User_ID             INT            NOT NULL,
    Name                NVARCHAR(100)  NOT NULL,
    Type                CHAR(1)        NOT NULL,   -- 'I' income, 'E' expense
    Parent_Category_ID  INT            NULL,
    CreatedAt           DATETIME2      NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Categories_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,

    CONSTRAINT FK_Categories_Parent
      FOREIGN KEY (Parent_Category_ID) REFERENCES dbo.Categories(Category_ID),

    CONSTRAINT CK_Categories_Type CHECK (Type IN ('I','E'))
  ) [42001-232]
2025-10-23 09:43:06.121314+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
-- Category name unique per user (siblings)
  CREATE UNIQUE INDEX UX_Categories_User_Name ON dbo.Categories(User_ID, Name) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:43:06.123331+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:43:06.125415+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aIF OBJECT_ID('dbo.Transactions','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Transactions\000d\000a  (\000d\000a    Transaction_ID INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID        INT             NOT NULL,\000d\000a    Account_ID     INT             NOT NULL,\000d\000a    Category_ID    INT             NULL,           -- nullable to allow transfers/etc.\000d\000a    Amount         DECIMAL(18,2)   NOT NULL,       -- + income, - expense\000d\000a    TxnDate        DATE            NOT NULL,\000d\000a    Description    NVARCHAR(500)   NULL,\000d\000a    CreatedAt      DATETIME2       NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Transactions_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT FK_Transactions_Account\000d\000a      FOREIGN KEY (Account_ID) REFERENCES dbo.Accounts(Account_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT FK_Transactions_Category\000d\000a      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID)\000d\000a  )"; expected "GRANT"; SQL statement:
GO

IF OBJECT_ID('dbo.Transactions','U') IS NULL
BEGIN
  CREATE TABLE dbo.Transactions
  (
    Transaction_ID INT IDENTITY(1,1) PRIMARY KEY,
    User_ID        INT             NOT NULL,
    Account_ID     INT             NOT NULL,
    Category_ID    INT             NULL,           -- nullable to allow transfers/etc.
    Amount         DECIMAL(18,2)   NOT NULL,       -- + income, - expense
    TxnDate        DATE            NOT NULL,
    Description    NVARCHAR(500)   NULL,
    CreatedAt      DATETIME2       NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Transactions_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,

    CONSTRAINT FK_Transactions_Account
      FOREIGN KEY (Account_ID) REFERENCES dbo.Accounts(Account_ID) ON DELETE CASCADE,

    CONSTRAINT FK_Transactions_Category
      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID)
  ) [42001-232]
2025-10-23 09:43:06.127409+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
-- Helpful indexes
  CREATE INDEX IX_Transactions_User_Date    ON dbo.Transactions(User_ID, TxnDate) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:43:06.129436+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE INDEX IX_Transactions_Account_Date ON dbo.Transactions(Account_ID, TxnDate) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:43:06.132408+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE INDEX IX_Transactions_Category     ON dbo.Transactions(Category_ID) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:43:06.133417+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:43:06.135407+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aIF OBJECT_ID('dbo.Transfers','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Transfers\000d\000a  (\000d\000a    Transfer_ID      INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID          INT             NOT NULL,\000d\000a    From_Account_ID  INT             NOT NULL,\000d\000a    To_Account_ID    INT             NOT NULL,\000d\000a    Amount           DECIMAL(18,2)   NOT NULL,     -- positive amount\000d\000a    TxnDate          DATE            NOT NULL,\000d\000a    Description      NVARCHAR(500)   NULL,\000d\000a    CreatedAt        DATETIME2       NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Transfers_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT FK_Transfers_FromAccount\000d\000a      FOREIGN KEY (From_Account_ID) REFERENCES dbo.Accounts(Account_ID),\000d\000a\000d\000a    CONSTRAINT FK_Transfers_ToAccount\000d\000a      FOREIGN KEY (To_Account_ID) REFERENCES dbo.Accounts(Account_ID),\000d\000a\000d\000a    CONSTRAINT CK_Transfers_Positive CHECK (Amount > 0),\000d\000a    CONSTRAINT CK_Transfers_DistinctAccounts CHECK (From_Account_ID <> To_Account_ID)\000d\000a  )"; expected "GRANT"; SQL statement:
GO

IF OBJECT_ID('dbo.Transfers','U') IS NULL
BEGIN
  CREATE TABLE dbo.Transfers
  (
    Transfer_ID      INT IDENTITY(1,1) PRIMARY KEY,
    User_ID          INT             NOT NULL,
    From_Account_ID  INT             NOT NULL,
    To_Account_ID    INT             NOT NULL,
    Amount           DECIMAL(18,2)   NOT NULL,     -- positive amount
    TxnDate          DATE            NOT NULL,
    Description      NVARCHAR(500)   NULL,
    CreatedAt        DATETIME2       NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Transfers_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,

    CONSTRAINT FK_Transfers_FromAccount
      FOREIGN KEY (From_Account_ID) REFERENCES dbo.Accounts(Account_ID),

    CONSTRAINT FK_Transfers_ToAccount
      FOREIGN KEY (To_Account_ID) REFERENCES dbo.Accounts(Account_ID),

    CONSTRAINT CK_Transfers_Positive CHECK (Amount > 0),
    CONSTRAINT CK_Transfers_DistinctAccounts CHECK (From_Account_ID <> To_Account_ID)
  ) [42001-232]
2025-10-23 09:43:06.136420+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE INDEX IX_Transfers_User_Date ON dbo.Transfers(User_ID, TxnDate) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:43:06.138416+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:43:06.139329+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aIF OBJECT_ID('dbo.Budgets','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Budgets\000d\000a  (\000d\000a    Budget_ID   INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID     INT            NOT NULL,\000d\000a    Name        NVARCHAR(100)  NOT NULL,\000d\000a    PeriodStart DATE           NOT NULL,\000d\000a    PeriodEnd   DATE           NOT NULL,\000d\000a    CreatedAt   DATETIME2      NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Budgets_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT CK_Budgets_Period CHECK (PeriodEnd >= PeriodStart)\000d\000a  )"; expected "GRANT"; SQL statement:
GO

IF OBJECT_ID('dbo.Budgets','U') IS NULL
BEGIN
  CREATE TABLE dbo.Budgets
  (
    Budget_ID   INT IDENTITY(1,1) PRIMARY KEY,
    User_ID     INT            NOT NULL,
    Name        NVARCHAR(100)  NOT NULL,
    PeriodStart DATE           NOT NULL,
    PeriodEnd   DATE           NOT NULL,
    CreatedAt   DATETIME2      NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Budgets_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,

    CONSTRAINT CK_Budgets_Period CHECK (PeriodEnd >= PeriodStart)
  ) [42001-232]
2025-10-23 09:43:06.140428+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE UNIQUE INDEX UX_Budgets_User_Name_Dates
    ON dbo.Budgets(User_ID, Name, PeriodStart, PeriodEnd) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:43:06.142416+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:43:06.144432+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aIF OBJECT_ID('dbo.BudgetItems','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.BudgetItems\000d\000a  (\000d\000a    BudgetItem_ID INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    Budget_ID     INT             NOT NULL,\000d\000a    Category_ID   INT             NOT NULL,\000d\000a    LimitAmount   DECIMAL(18,2)   NOT NULL CHECK (LimitAmount >= 0),\000d\000a\000d\000a    CONSTRAINT FK_BudgetItems_Budget\000d\000a      FOREIGN KEY (Budget_ID) REFERENCES dbo.Budgets(Budget_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT FK_BudgetItems_Category\000d\000a      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID)\000d\000a  )"; expected "GRANT"; SQL statement:
GO

IF OBJECT_ID('dbo.BudgetItems','U') IS NULL
BEGIN
  CREATE TABLE dbo.BudgetItems
  (
    BudgetItem_ID INT IDENTITY(1,1) PRIMARY KEY,
    Budget_ID     INT             NOT NULL,
    Category_ID   INT             NOT NULL,
    LimitAmount   DECIMAL(18,2)   NOT NULL CHECK (LimitAmount >= 0),

    CONSTRAINT FK_BudgetItems_Budget
      FOREIGN KEY (Budget_ID) REFERENCES dbo.Budgets(Budget_ID) ON DELETE CASCADE,

    CONSTRAINT FK_BudgetItems_Category
      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID)
  ) [42001-232]
2025-10-23 09:43:06.145419+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE UNIQUE INDEX UX_BudgetItems_Budget_Category
    ON dbo.BudgetItems(Budget_ID, Category_ID) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:43:06.147356+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:43:06.148421+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aIF OBJECT_ID('dbo.RecurringTransactions','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.RecurringTransactions\000d\000a  (\000d\000a    Recurring_ID  INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID       INT             NOT NULL,\000d\000a    Account_ID    INT             NOT NULL,\000d\000a    Category_ID   INT             NULL,\000d\000a    Amount        DECIMAL(18,2)   NOT NULL,\000d\000a    Frequency     NVARCHAR(20)    NOT NULL, -- DAILY/WEEKLY/MONTHLY/YEARLY/CUSTOM\000d\000a    NextRunDate   DATE            NOT NULL,\000d\000a    Description   NVARCHAR(500)   NULL,\000d\000a    CreatedAt     DATETIME2       NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Recur_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,\000d\000a    CONSTRAINT FK_Recur_Account\000d\000a      FOREIGN KEY (Account_ID) REFERENCES dbo.Accounts(Account_ID),\000d\000a    CONSTRAINT FK_Recur_Category\000d\000a      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID),\000d\000a\000d\000a    CONSTRAINT CK_Recur_Frequency CHECK (Frequency IN ('DAILY','WEEKLY','MONTHLY','YEARLY','CUSTOM'))\000d\000a  )"; expected "GRANT"; SQL statement:
GO

IF OBJECT_ID('dbo.RecurringTransactions','U') IS NULL
BEGIN
  CREATE TABLE dbo.RecurringTransactions
  (
    Recurring_ID  INT IDENTITY(1,1) PRIMARY KEY,
    User_ID       INT             NOT NULL,
    Account_ID    INT             NOT NULL,
    Category_ID   INT             NULL,
    Amount        DECIMAL(18,2)   NOT NULL,
    Frequency     NVARCHAR(20)    NOT NULL, -- DAILY/WEEKLY/MONTHLY/YEARLY/CUSTOM
    NextRunDate   DATE            NOT NULL,
    Description   NVARCHAR(500)   NULL,
    CreatedAt     DATETIME2       NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Recur_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,
    CONSTRAINT FK_Recur_Account
      FOREIGN KEY (Account_ID) REFERENCES dbo.Accounts(Account_ID),
    CONSTRAINT FK_Recur_Category
      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID),

    CONSTRAINT CK_Recur_Frequency CHECK (Frequency IN ('DAILY','WEEKLY','MONTHLY','YEARLY','CUSTOM'))
  ) [42001-232]
2025-10-23 09:43:06.150327+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE INDEX IX_Recur_User_NextRun ON dbo.RecurringTransactions(User_ID, NextRunDate) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:43:06.153412+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:43:06.155405+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aIF OBJECT_ID('dbo.Goals','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Goals\000d\000a  (\000d\000a    Goal_ID      INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID      INT             NOT NULL,\000d\000a    Name         NVARCHAR(100)   NOT NULL,\000d\000a    TargetAmount DECIMAL(18,2)   NOT NULL CHECK (TargetAmount >= 0),\000d\000a    TargetDate   DATE            NULL,\000d\000a    SavedAmount  DECIMAL(18,2)   NOT NULL DEFAULT 0 CHECK (SavedAmount >= 0),\000d\000a    CreatedAt    DATETIME2       NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Goals_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE\000d\000a  )"; expected "GRANT"; SQL statement:
GO

IF OBJECT_ID('dbo.Goals','U') IS NULL
BEGIN
  CREATE TABLE dbo.Goals
  (
    Goal_ID      INT IDENTITY(1,1) PRIMARY KEY,
    User_ID      INT             NOT NULL,
    Name         NVARCHAR(100)   NOT NULL,
    TargetAmount DECIMAL(18,2)   NOT NULL CHECK (TargetAmount >= 0),
    TargetDate   DATE            NULL,
    SavedAmount  DECIMAL(18,2)   NOT NULL DEFAULT 0 CHECK (SavedAmount >= 0),
    CreatedAt    DATETIME2       NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Goals_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE
  ) [42001-232]
2025-10-23 09:43:06.156424+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE UNIQUE INDEX UX_Goals_User_Name ON dbo.Goals(User_ID, Name) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:43:06.159341+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:43:06.161328+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000aIF OBJECT_ID('dbo.vw_AccountBalances','V') IS NULL\000d\000aBEGIN\000d\000a  EXEC('\000d\000a    CREATE VIEW dbo.vw_AccountBalances AS\000d\000a    SELECT\000d\000a      a.Account_ID,\000d\000a      a.User_ID,\000d\000a      a.Name,\000d\000a      a.Currency,\000d\000a      a.Balance,\000d\000a      a.CreatedAt\000d\000a    FROM dbo.Accounts a;\000d\000a  ')"; expected "GRANT"; SQL statement:
GO
IF OBJECT_ID('dbo.vw_AccountBalances','V') IS NULL
BEGIN
  EXEC('
    CREATE VIEW dbo.vw_AccountBalances AS
    SELECT
      a.Account_ID,
      a.User_ID,
      a.Name,
      a.Currency,
      a.Balance,
      a.CreatedAt
    FROM dbo.Accounts a;
  ') [42001-232]
2025-10-23 09:43:06.162333+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:43:06.163327+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aIF OBJECT_ID('dbo.vw_SpendingByCategory','V') IS NULL\000d\000aBEGIN\000d\000a  EXEC('\000d\000a    CREATE VIEW dbo.vw_SpendingByCategory AS\000d\000a    SELECT\000d\000a      t.User_ID,\000d\000a      t.Category_ID,\000d\000a      c.Name AS CategoryName,\000d\000a      SUM(CASE WHEN t.Amount < 0 THEN -t.Amount ELSE 0 END) AS TotalSpent,\000d\000a      SUM(CASE WHEN t.Amount > 0 THEN  t.Amount ELSE 0 END) AS TotalIncome\000d\000a    FROM dbo.Transactions t\000d\000a    LEFT JOIN dbo.Categories c ON c.Category_ID = t.Category_ID\000d\000a    GROUP BY t.User_ID, t.Category_ID, c.Name;\000d\000a  ')"; expected "GRANT"; SQL statement:
GO

IF OBJECT_ID('dbo.vw_SpendingByCategory','V') IS NULL
BEGIN
  EXEC('
    CREATE VIEW dbo.vw_SpendingByCategory AS
    SELECT
      t.User_ID,
      t.Category_ID,
      c.Name AS CategoryName,
      SUM(CASE WHEN t.Amount < 0 THEN -t.Amount ELSE 0 END) AS TotalSpent,
      SUM(CASE WHEN t.Amount > 0 THEN  t.Amount ELSE 0 END) AS TotalIncome
    FROM dbo.Transactions t
    LEFT JOIN dbo.Categories c ON c.Category_ID = t.Category_ID
    GROUP BY t.User_ID, t.Category_ID, c.Name;
  ') [42001-232]
2025-10-23 09:43:06.165499+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:43:06.165499+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aPRINT 'Schema ready.'"; expected "GRANT"; SQL statement:
GO

PRINT 'Schema ready.' [42001-232]
2025-10-23 09:44:29.615217+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "-- 1) Create database if missing\000d\000a[*]IF DB_ID('PersonalFinance') IS NULL\000d\000aBEGIN\000d\000a  PRINT 'Creating database PersonalFinance...'"; SQL statement:
-- 1) Create database if missing
IF DB_ID('PersonalFinance') IS NULL
BEGIN
  PRINT 'Creating database PersonalFinance...' [42000-232]
2025-10-23 09:44:29.616220+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "CREATE [*]DATABASE PersonalFinance"; expected "OR REPLACE, FORCE, VIEW, MATERIALIZED, ALIAS, SEQUENCE, USER, TRIGGER, ROLE, SCHEMA, CONSTANT, DOMAIN, TYPE, AGGREGATE, LINKED, MEMORY, CACHED, LOCAL TEMPORARY, GLOBAL TEMPORARY, TEMPORARY, TABLE, SYNONYM, UNIQUE, SPATIAL, INDEX"; SQL statement:
CREATE DATABASE PersonalFinance [42001-232]
2025-10-23 09:44:29.617219+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:44:29.618217+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aUSE PersonalFinance"; expected "GRANT"; SQL statement:
GO

USE PersonalFinance [42001-232]
2025-10-23 09:44:29.619209+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000a-- 2) Ensure dbo schema exists (it does by default, but keeping it explicit)\000d\000aIF NOT EXISTS (SELECT * FROM sys.schemas WHERE name = 'dbo')\000d\000aBEGIN\000d\000a  EXEC('CREATE SCHEMA dbo')"; expected "GRANT"; SQL statement:
GO

-- 2) Ensure dbo schema exists (it does by default, but keeping it explicit)
IF NOT EXISTS (SELECT * FROM sys.schemas WHERE name = 'dbo')
BEGIN
  EXEC('CREATE SCHEMA dbo') [42001-232]
2025-10-23 09:44:29.620245+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:44:29.620245+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000aIF OBJECT_ID('dbo.Users','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Users\000d\000a  (\000d\000a    User_ID      INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    Username     NVARCHAR(100) NOT NULL UNIQUE,\000d\000a    PasswordHash NVARCHAR(MAX) NOT NULL,\000d\000a    CreatedAt    DATETIME2      NOT NULL DEFAULT SYSDATETIME()\000d\000a  )"; expected "GRANT"; SQL statement:
GO
IF OBJECT_ID('dbo.Users','U') IS NULL
BEGIN
  CREATE TABLE dbo.Users
  (
    User_ID      INT IDENTITY(1,1) PRIMARY KEY,
    Username     NVARCHAR(100) NOT NULL UNIQUE,
    PasswordHash NVARCHAR(MAX) NOT NULL,
    CreatedAt    DATETIME2      NOT NULL DEFAULT SYSDATETIME()
  ) [42001-232]
2025-10-23 09:44:29.621296+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:44:29.622323+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aIF OBJECT_ID('dbo.Accounts','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Accounts\000d\000a  (\000d\000a    Account_ID INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID    INT           NOT NULL,\000d\000a    Name       NVARCHAR(100) NOT NULL,\000d\000a    Type       NVARCHAR(50)  NOT NULL,     -- e.g. 'Cash','Bank','Credit','Investment'\000d\000a    Currency   CHAR(3)       NOT NULL DEFAULT 'EUR',\000d\000a    Balance    DECIMAL(18,2) NOT NULL DEFAULT 0,\000d\000a    CreatedAt  DATETIME2     NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Accounts_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE\000d\000a  )"; expected "GRANT"; SQL statement:
GO

IF OBJECT_ID('dbo.Accounts','U') IS NULL
BEGIN
  CREATE TABLE dbo.Accounts
  (
    Account_ID INT IDENTITY(1,1) PRIMARY KEY,
    User_ID    INT           NOT NULL,
    Name       NVARCHAR(100) NOT NULL,
    Type       NVARCHAR(50)  NOT NULL,     -- e.g. 'Cash','Bank','Credit','Investment'
    Currency   CHAR(3)       NOT NULL DEFAULT 'EUR',
    Balance    DECIMAL(18,2) NOT NULL DEFAULT 0,
    CreatedAt  DATETIME2     NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Accounts_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE
  ) [42001-232]
2025-10-23 09:44:29.624432+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
-- One account name per user
  CREATE UNIQUE INDEX UX_Accounts_User_Name ON dbo.Accounts(User_ID, Name) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:44:29.626425+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:44:29.628441+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aIF OBJECT_ID('dbo.Categories','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Categories\000d\000a  (\000d\000a    Category_ID         INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID             INT            NOT NULL,\000d\000a    Name                NVARCHAR(100)  NOT NULL,\000d\000a    Type                CHAR(1)        NOT NULL,   -- 'I' income, 'E' expense\000d\000a    Parent_Category_ID  INT            NULL,\000d\000a    CreatedAt           DATETIME2      NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Categories_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT FK_Categories_Parent\000d\000a      FOREIGN KEY (Parent_Category_ID) REFERENCES dbo.Categories(Category_ID),\000d\000a\000d\000a    CONSTRAINT CK_Categories_Type CHECK (Type IN ('I','E'))\000d\000a  )"; expected "GRANT"; SQL statement:
GO

IF OBJECT_ID('dbo.Categories','U') IS NULL
BEGIN
  CREATE TABLE dbo.Categories
  (
    Category_ID         INT IDENTITY(1,1) PRIMARY KEY,
    User_ID             INT            NOT NULL,
    Name                NVARCHAR(100)  NOT NULL,
    Type                CHAR(1)        NOT NULL,   -- 'I' income, 'E' expense
    Parent_Category_ID  INT            NULL,
    CreatedAt           DATETIME2      NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Categories_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,

    CONSTRAINT FK_Categories_Parent
      FOREIGN KEY (Parent_Category_ID) REFERENCES dbo.Categories(Category_ID),

    CONSTRAINT CK_Categories_Type CHECK (Type IN ('I','E'))
  ) [42001-232]
2025-10-23 09:44:29.630362+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
-- Category name unique per user (siblings)
  CREATE UNIQUE INDEX UX_Categories_User_Name ON dbo.Categories(User_ID, Name) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:44:29.631350+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:44:29.632345+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aIF OBJECT_ID('dbo.Transactions','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Transactions\000d\000a  (\000d\000a    Transaction_ID INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID        INT             NOT NULL,\000d\000a    Account_ID     INT             NOT NULL,\000d\000a    Category_ID    INT             NULL,           -- nullable to allow transfers/etc.\000d\000a    Amount         DECIMAL(18,2)   NOT NULL,       -- + income, - expense\000d\000a    TxnDate        DATE            NOT NULL,\000d\000a    Description    NVARCHAR(500)   NULL,\000d\000a    CreatedAt      DATETIME2       NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Transactions_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT FK_Transactions_Account\000d\000a      FOREIGN KEY (Account_ID) REFERENCES dbo.Accounts(Account_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT FK_Transactions_Category\000d\000a      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID)\000d\000a  )"; expected "GRANT"; SQL statement:
GO

IF OBJECT_ID('dbo.Transactions','U') IS NULL
BEGIN
  CREATE TABLE dbo.Transactions
  (
    Transaction_ID INT IDENTITY(1,1) PRIMARY KEY,
    User_ID        INT             NOT NULL,
    Account_ID     INT             NOT NULL,
    Category_ID    INT             NULL,           -- nullable to allow transfers/etc.
    Amount         DECIMAL(18,2)   NOT NULL,       -- + income, - expense
    TxnDate        DATE            NOT NULL,
    Description    NVARCHAR(500)   NULL,
    CreatedAt      DATETIME2       NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Transactions_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,

    CONSTRAINT FK_Transactions_Account
      FOREIGN KEY (Account_ID) REFERENCES dbo.Accounts(Account_ID) ON DELETE CASCADE,

    CONSTRAINT FK_Transactions_Category
      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID)
  ) [42001-232]
2025-10-23 09:44:29.634347+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
-- Helpful indexes
  CREATE INDEX IX_Transactions_User_Date    ON dbo.Transactions(User_ID, TxnDate) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:44:29.637424+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE INDEX IX_Transactions_Account_Date ON dbo.Transactions(Account_ID, TxnDate) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:44:29.639062+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE INDEX IX_Transactions_Category     ON dbo.Transactions(Category_ID) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:44:29.641098+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:44:29.643099+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aIF OBJECT_ID('dbo.Transfers','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Transfers\000d\000a  (\000d\000a    Transfer_ID      INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID          INT             NOT NULL,\000d\000a    From_Account_ID  INT             NOT NULL,\000d\000a    To_Account_ID    INT             NOT NULL,\000d\000a    Amount           DECIMAL(18,2)   NOT NULL,     -- positive amount\000d\000a    TxnDate          DATE            NOT NULL,\000d\000a    Description      NVARCHAR(500)   NULL,\000d\000a    CreatedAt        DATETIME2       NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Transfers_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT FK_Transfers_FromAccount\000d\000a      FOREIGN KEY (From_Account_ID) REFERENCES dbo.Accounts(Account_ID),\000d\000a\000d\000a    CONSTRAINT FK_Transfers_ToAccount\000d\000a      FOREIGN KEY (To_Account_ID) REFERENCES dbo.Accounts(Account_ID),\000d\000a\000d\000a    CONSTRAINT CK_Transfers_Positive CHECK (Amount > 0),\000d\000a    CONSTRAINT CK_Transfers_DistinctAccounts CHECK (From_Account_ID <> To_Account_ID)\000d\000a  )"; expected "GRANT"; SQL statement:
GO

IF OBJECT_ID('dbo.Transfers','U') IS NULL
BEGIN
  CREATE TABLE dbo.Transfers
  (
    Transfer_ID      INT IDENTITY(1,1) PRIMARY KEY,
    User_ID          INT             NOT NULL,
    From_Account_ID  INT             NOT NULL,
    To_Account_ID    INT             NOT NULL,
    Amount           DECIMAL(18,2)   NOT NULL,     -- positive amount
    TxnDate          DATE            NOT NULL,
    Description      NVARCHAR(500)   NULL,
    CreatedAt        DATETIME2       NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Transfers_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,

    CONSTRAINT FK_Transfers_FromAccount
      FOREIGN KEY (From_Account_ID) REFERENCES dbo.Accounts(Account_ID),

    CONSTRAINT FK_Transfers_ToAccount
      FOREIGN KEY (To_Account_ID) REFERENCES dbo.Accounts(Account_ID),

    CONSTRAINT CK_Transfers_Positive CHECK (Amount > 0),
    CONSTRAINT CK_Transfers_DistinctAccounts CHECK (From_Account_ID <> To_Account_ID)
  ) [42001-232]
2025-10-23 09:44:29.644097+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE INDEX IX_Transfers_User_Date ON dbo.Transfers(User_ID, TxnDate) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:44:29.646097+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:44:29.647100+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aIF OBJECT_ID('dbo.Budgets','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Budgets\000d\000a  (\000d\000a    Budget_ID   INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID     INT            NOT NULL,\000d\000a    Name        NVARCHAR(100)  NOT NULL,\000d\000a    PeriodStart DATE           NOT NULL,\000d\000a    PeriodEnd   DATE           NOT NULL,\000d\000a    CreatedAt   DATETIME2      NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Budgets_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT CK_Budgets_Period CHECK (PeriodEnd >= PeriodStart)\000d\000a  )"; expected "GRANT"; SQL statement:
GO

IF OBJECT_ID('dbo.Budgets','U') IS NULL
BEGIN
  CREATE TABLE dbo.Budgets
  (
    Budget_ID   INT IDENTITY(1,1) PRIMARY KEY,
    User_ID     INT            NOT NULL,
    Name        NVARCHAR(100)  NOT NULL,
    PeriodStart DATE           NOT NULL,
    PeriodEnd   DATE           NOT NULL,
    CreatedAt   DATETIME2      NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Budgets_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,

    CONSTRAINT CK_Budgets_Period CHECK (PeriodEnd >= PeriodStart)
  ) [42001-232]
2025-10-23 09:44:29.649098+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE UNIQUE INDEX UX_Budgets_User_Name_Dates
    ON dbo.Budgets(User_ID, Name, PeriodStart, PeriodEnd) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:44:29.651100+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:44:29.652099+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aIF OBJECT_ID('dbo.BudgetItems','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.BudgetItems\000d\000a  (\000d\000a    BudgetItem_ID INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    Budget_ID     INT             NOT NULL,\000d\000a    Category_ID   INT             NOT NULL,\000d\000a    LimitAmount   DECIMAL(18,2)   NOT NULL CHECK (LimitAmount >= 0),\000d\000a\000d\000a    CONSTRAINT FK_BudgetItems_Budget\000d\000a      FOREIGN KEY (Budget_ID) REFERENCES dbo.Budgets(Budget_ID) ON DELETE CASCADE,\000d\000a\000d\000a    CONSTRAINT FK_BudgetItems_Category\000d\000a      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID)\000d\000a  )"; expected "GRANT"; SQL statement:
GO

IF OBJECT_ID('dbo.BudgetItems','U') IS NULL
BEGIN
  CREATE TABLE dbo.BudgetItems
  (
    BudgetItem_ID INT IDENTITY(1,1) PRIMARY KEY,
    Budget_ID     INT             NOT NULL,
    Category_ID   INT             NOT NULL,
    LimitAmount   DECIMAL(18,2)   NOT NULL CHECK (LimitAmount >= 0),

    CONSTRAINT FK_BudgetItems_Budget
      FOREIGN KEY (Budget_ID) REFERENCES dbo.Budgets(Budget_ID) ON DELETE CASCADE,

    CONSTRAINT FK_BudgetItems_Category
      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID)
  ) [42001-232]
2025-10-23 09:44:29.653102+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE UNIQUE INDEX UX_BudgetItems_Budget_Category
    ON dbo.BudgetItems(Budget_ID, Category_ID) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:44:29.656098+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:44:29.658099+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aIF OBJECT_ID('dbo.RecurringTransactions','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.RecurringTransactions\000d\000a  (\000d\000a    Recurring_ID  INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID       INT             NOT NULL,\000d\000a    Account_ID    INT             NOT NULL,\000d\000a    Category_ID   INT             NULL,\000d\000a    Amount        DECIMAL(18,2)   NOT NULL,\000d\000a    Frequency     NVARCHAR(20)    NOT NULL, -- DAILY/WEEKLY/MONTHLY/YEARLY/CUSTOM\000d\000a    NextRunDate   DATE            NOT NULL,\000d\000a    Description   NVARCHAR(500)   NULL,\000d\000a    CreatedAt     DATETIME2       NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Recur_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,\000d\000a    CONSTRAINT FK_Recur_Account\000d\000a      FOREIGN KEY (Account_ID) REFERENCES dbo.Accounts(Account_ID),\000d\000a    CONSTRAINT FK_Recur_Category\000d\000a      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID),\000d\000a\000d\000a    CONSTRAINT CK_Recur_Frequency CHECK (Frequency IN ('DAILY','WEEKLY','MONTHLY','YEARLY','CUSTOM'))\000d\000a  )"; expected "GRANT"; SQL statement:
GO

IF OBJECT_ID('dbo.RecurringTransactions','U') IS NULL
BEGIN
  CREATE TABLE dbo.RecurringTransactions
  (
    Recurring_ID  INT IDENTITY(1,1) PRIMARY KEY,
    User_ID       INT             NOT NULL,
    Account_ID    INT             NOT NULL,
    Category_ID   INT             NULL,
    Amount        DECIMAL(18,2)   NOT NULL,
    Frequency     NVARCHAR(20)    NOT NULL, -- DAILY/WEEKLY/MONTHLY/YEARLY/CUSTOM
    NextRunDate   DATE            NOT NULL,
    Description   NVARCHAR(500)   NULL,
    CreatedAt     DATETIME2       NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Recur_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE,
    CONSTRAINT FK_Recur_Account
      FOREIGN KEY (Account_ID) REFERENCES dbo.Accounts(Account_ID),
    CONSTRAINT FK_Recur_Category
      FOREIGN KEY (Category_ID) REFERENCES dbo.Categories(Category_ID),

    CONSTRAINT CK_Recur_Frequency CHECK (Frequency IN ('DAILY','WEEKLY','MONTHLY','YEARLY','CUSTOM'))
  ) [42001-232]
2025-10-23 09:44:29.660097+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE INDEX IX_Recur_User_NextRun ON dbo.RecurringTransactions(User_ID, NextRunDate) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:44:29.663099+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:44:29.665098+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aIF OBJECT_ID('dbo.Goals','U') IS NULL\000d\000aBEGIN\000d\000a  CREATE TABLE dbo.Goals\000d\000a  (\000d\000a    Goal_ID      INT IDENTITY(1,1) PRIMARY KEY,\000d\000a    User_ID      INT             NOT NULL,\000d\000a    Name         NVARCHAR(100)   NOT NULL,\000d\000a    TargetAmount DECIMAL(18,2)   NOT NULL CHECK (TargetAmount >= 0),\000d\000a    TargetDate   DATE            NULL,\000d\000a    SavedAmount  DECIMAL(18,2)   NOT NULL DEFAULT 0 CHECK (SavedAmount >= 0),\000d\000a    CreatedAt    DATETIME2       NOT NULL DEFAULT SYSDATETIME(),\000d\000a\000d\000a    CONSTRAINT FK_Goals_User\000d\000a      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE\000d\000a  )"; expected "GRANT"; SQL statement:
GO

IF OBJECT_ID('dbo.Goals','U') IS NULL
BEGIN
  CREATE TABLE dbo.Goals
  (
    Goal_ID      INT IDENTITY(1,1) PRIMARY KEY,
    User_ID      INT             NOT NULL,
    Name         NVARCHAR(100)   NOT NULL,
    TargetAmount DECIMAL(18,2)   NOT NULL CHECK (TargetAmount >= 0),
    TargetDate   DATE            NULL,
    SavedAmount  DECIMAL(18,2)   NOT NULL DEFAULT 0 CHECK (SavedAmount >= 0),
    CreatedAt    DATETIME2       NOT NULL DEFAULT SYSDATETIME(),

    CONSTRAINT FK_Goals_User
      FOREIGN KEY (User_ID) REFERENCES dbo.Users(User_ID) ON DELETE CASCADE
  ) [42001-232]
2025-10-23 09:44:29.666100+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "dbo" not found; SQL statement:
CREATE UNIQUE INDEX UX_Goals_User_Name ON dbo.Goals(User_ID, Name) [90079-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:923)
	at org.h2.command.Parser.getSchema(Parser.java:929)
	at org.h2.command.Parser.parseCreate(Parser.java:6454)
	at org.h2.command.Parser.parsePrepared(Parser.java:645)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 09:44:29.669202+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:44:29.671182+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000aIF OBJECT_ID('dbo.vw_AccountBalances','V') IS NULL\000d\000aBEGIN\000d\000a  EXEC('\000d\000a    CREATE VIEW dbo.vw_AccountBalances AS\000d\000a    SELECT\000d\000a      a.Account_ID,\000d\000a      a.User_ID,\000d\000a      a.Name,\000d\000a      a.Currency,\000d\000a      a.Balance,\000d\000a      a.CreatedAt\000d\000a    FROM dbo.Accounts a;\000d\000a  ')"; expected "GRANT"; SQL statement:
GO
IF OBJECT_ID('dbo.vw_AccountBalances','V') IS NULL
BEGIN
  EXEC('
    CREATE VIEW dbo.vw_AccountBalances AS
    SELECT
      a.Account_ID,
      a.User_ID,
      a.Name,
      a.Currency,
      a.Balance,
      a.CreatedAt
    FROM dbo.Accounts a;
  ') [42001-232]
2025-10-23 09:44:29.672181+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:44:29.673202+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aIF OBJECT_ID('dbo.vw_SpendingByCategory','V') IS NULL\000d\000aBEGIN\000d\000a  EXEC('\000d\000a    CREATE VIEW dbo.vw_SpendingByCategory AS\000d\000a    SELECT\000d\000a      t.User_ID,\000d\000a      t.Category_ID,\000d\000a      c.Name AS CategoryName,\000d\000a      SUM(CASE WHEN t.Amount < 0 THEN -t.Amount ELSE 0 END) AS TotalSpent,\000d\000a      SUM(CASE WHEN t.Amount > 0 THEN  t.Amount ELSE 0 END) AS TotalIncome\000d\000a    FROM dbo.Transactions t\000d\000a    LEFT JOIN dbo.Categories c ON c.Category_ID = t.Category_ID\000d\000a    GROUP BY t.User_ID, t.Category_ID, c.Name;\000d\000a  ')"; expected "GRANT"; SQL statement:
GO

IF OBJECT_ID('dbo.vw_SpendingByCategory','V') IS NULL
BEGIN
  EXEC('
    CREATE VIEW dbo.vw_SpendingByCategory AS
    SELECT
      t.User_ID,
      t.Category_ID,
      c.Name AS CategoryName,
      SUM(CASE WHEN t.Amount < 0 THEN -t.Amount ELSE 0 END) AS TotalSpent,
      SUM(CASE WHEN t.Amount > 0 THEN  t.Amount ELSE 0 END) AS TotalIncome
    FROM dbo.Transactions t
    LEFT JOIN dbo.Categories c ON c.Category_ID = t.Category_ID
    GROUP BY t.User_ID, t.Category_ID, c.Name;
  ') [42001-232]
2025-10-23 09:44:29.674181+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]END"; SQL statement:
END [42000-232]
2025-10-23 09:44:29.675191+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]GO\000d\000a\000d\000aPRINT 'Schema ready.'"; expected "GRANT"; SQL statement:
GO

PRINT 'Schema ready.' [42001-232]
2025-10-23 09:57:14.402179+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "Users" not found (candidates are: "users"); SQL statement:
SELECT * FROM dbo.Users [42103-232]
2025-10-23 10:19:12.800706+02:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "users" already exists; SQL statement:
create table dbo.users (user_id integer generated by default as identity, created_at timestamp(6), password_hash varchar(255) not null, username varchar(100) not null, primary key (user_id)) [42101-232]
2025-10-23 10:25:36.653512+02:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "users" already exists; SQL statement:
create table dbo.users (user_id integer generated by default as identity, created_at timestamp(6), password_hash varchar(255) not null, username varchar(100) not null, primary key (user_id)) [42101-232]
2025-10-23 10:30:23.336289+02:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "CREATE TABLE IF NOT EXISTS dbo.users ( user_id INT [*]AUTO_INCREMENT PRIMARY KEY, username VARCHAR(100) NOT NULL UNIQUE, password_hash VARCHAR(1000) NOT NULL, created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )"; expected "ARRAY, INVISIBLE, VISIBLE, NOT NULL, DEFAULT, GENERATED, ON UPDATE, NOT NULL, DEFAULT ON NULL, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, COMMENT, PRIMARY KEY, UNIQUE, NOT NULL, CHECK, REFERENCES, ,, )"; SQL statement:
CREATE TABLE IF NOT EXISTS dbo.users ( user_id INT AUTO_INCREMENT PRIMARY KEY, username VARCHAR(100) NOT NULL UNIQUE, password_hash VARCHAR(1000) NOT NULL, created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ) [42001-232]
2025-10-23 10:30:43.775231+02:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "CREATE TABLE IF NOT EXISTS dbo.users ( user_id INT [*]AUTO_INCREMENT PRIMARY KEY, username VARCHAR(100) NOT NULL UNIQUE, password_hash VARCHAR(1000) NOT NULL, created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )"; expected "ARRAY, INVISIBLE, VISIBLE, NOT NULL, DEFAULT, GENERATED, ON UPDATE, NOT NULL, DEFAULT ON NULL, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, COMMENT, PRIMARY KEY, UNIQUE, NOT NULL, CHECK, REFERENCES, ,, )"; SQL statement:
CREATE TABLE IF NOT EXISTS dbo.users ( user_id INT AUTO_INCREMENT PRIMARY KEY, username VARCHAR(100) NOT NULL UNIQUE, password_hash VARCHAR(1000) NOT NULL, created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ) [42001-232]
2025-10-23 10:33:56.000187+02:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "CREATE TABLE IF NOT EXISTS dbo.users ( user_id INT [*]AUTO_INCREMENT PRIMARY KEY, username VARCHAR(100) NOT NULL UNIQUE, password_hash VARCHAR(1000) NOT NULL, created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )"; expected "ARRAY, INVISIBLE, VISIBLE, NOT NULL, DEFAULT, GENERATED, ON UPDATE, NOT NULL, DEFAULT ON NULL, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, COMMENT, PRIMARY KEY, UNIQUE, NOT NULL, CHECK, REFERENCES, ,, )"; SQL statement:
CREATE TABLE IF NOT EXISTS dbo.users ( user_id INT AUTO_INCREMENT PRIMARY KEY, username VARCHAR(100) NOT NULL UNIQUE, password_hash VARCHAR(1000) NOT NULL, created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ) [42001-232]
2025-10-23 10:34:51.420398+02:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "CREATE TABLE IF NOT EXISTS dbo.users ( user_id INT [*]AUTO_INCREMENT PRIMARY KEY, username VARCHAR(100) NOT NULL UNIQUE, password_hash VARCHAR(1000) NOT NULL, created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )"; expected "ARRAY, INVISIBLE, VISIBLE, NOT NULL, DEFAULT, GENERATED, ON UPDATE, NOT NULL, DEFAULT ON NULL, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, COMMENT, PRIMARY KEY, UNIQUE, NOT NULL, CHECK, REFERENCES, ,, )"; SQL statement:
CREATE TABLE IF NOT EXISTS dbo.users ( user_id INT AUTO_INCREMENT PRIMARY KEY, username VARCHAR(100) NOT NULL UNIQUE, password_hash VARCHAR(1000) NOT NULL, created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ) [42001-232]
2025-10-23 10:36:43.082716+02:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "CREATE TABLE IF NOT EXISTS dbo.users ( user_id INT [*]AUTO_INCREMENT PRIMARY KEY, username VARCHAR(100) NOT NULL UNIQUE, password_hash VARCHAR(1000) NOT NULL, created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )"; expected "ARRAY, INVISIBLE, VISIBLE, NOT NULL, DEFAULT, GENERATED, ON UPDATE, NOT NULL, DEFAULT ON NULL, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, COMMENT, PRIMARY KEY, UNIQUE, NOT NULL, CHECK, REFERENCES, ,, )"; SQL statement:
CREATE TABLE IF NOT EXISTS dbo.users ( user_id INT AUTO_INCREMENT PRIMARY KEY, username VARCHAR(100) NOT NULL UNIQUE, password_hash VARCHAR(1000) NOT NULL, created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ) [42001-232]
2025-10-23 10:38:50.984710+02:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "CREATE TABLE IF NOT EXISTS dbo.users ( user_id INT [*]AUTO_INCREMENT PRIMARY KEY, username VARCHAR(100) NOT NULL UNIQUE, password_hash VARCHAR(1000) NOT NULL, created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )"; expected "ARRAY, INVISIBLE, VISIBLE, NOT NULL, DEFAULT, GENERATED, ON UPDATE, NOT NULL, DEFAULT ON NULL, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, COMMENT, PRIMARY KEY, UNIQUE, NOT NULL, CHECK, REFERENCES, ,, )"; SQL statement:
CREATE TABLE IF NOT EXISTS dbo.users ( user_id INT AUTO_INCREMENT PRIMARY KEY, username VARCHAR(100) NOT NULL UNIQUE, password_hash VARCHAR(1000) NOT NULL, created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ) [42001-232]
2025-10-23 10:45:36.107102+02:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "users" already exists; SQL statement:
create table dbo.users (user_id integer generated by default as identity, created_at timestamp(6), password_hash varchar(255) not null, username varchar(100) not null, primary key (user_id)) [42101-232]
2025-10-23 10:46:07.731181+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Column "table_name" not found; SQL statement:
SELECT table_name
FROM INFORMATION_SCHEMA.TABLES
WHERE table_schema = 'DBO'
ORDER BY table_name [42122-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.expression.ExpressionColumn.getColumnException(ExpressionColumn.java:244)
	at org.h2.expression.ExpressionColumn.optimizeOther(ExpressionColumn.java:226)
	at org.h2.expression.ExpressionColumn.optimize(ExpressionColumn.java:213)
	at org.h2.command.query.Select.prepareExpressions(Select.java:1228)
	at org.h2.command.query.Query.prepare(Query.java:232)
	at org.h2.command.Parser.prepareCommand(Parser.java:489)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1344)
	at org.h2.server.web.WebApp.query(WebApp.java:1142)
	at org.h2.server.web.WebApp.query(WebApp.java:1118)
	at org.h2.server.web.WebApp.process(WebApp.java:244)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-10-23 11:45:20.769601+02:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "users" already exists; SQL statement:
create table dbo.users (user_id integer generated by default as identity, created_at timestamp(6), password_hash varchar(255) not null, username varchar(100) not null, primary key (user_id)) [42101-232]
2025-10-23 11:46:53.955412+02:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "users" already exists; SQL statement:
create table dbo.users (user_id integer generated by default as identity, created_at timestamp(6), password_hash varchar(255) not null, username varchar(100) not null, primary key (user_id)) [42101-232]
2025-10-23 11:53:54.097886+02:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "users" already exists; SQL statement:
create table dbo.users (user_id integer generated by default as identity, created_at timestamp(6), password_hash varchar(255) not null, username varchar(100) not null, primary key (user_id)) [42101-232]
2025-10-23 11:54:59.173039+02:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "users" already exists; SQL statement:
create table dbo.users (user_id integer generated by default as identity, created_at timestamp(6), password_hash varchar(255) not null, username varchar(100) not null, primary key (user_id)) [42101-232]
2025-10-23 14:30:57.423476+02:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "users" already exists; SQL statement:
create table dbo.users (user_id integer generated by default as identity, created_at timestamp(6), password_hash varchar(255) not null, username varchar(100) not null, primary key (user_id)) [42101-232]
2025-10-24 09:23:10.330253+02:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "users" already exists; SQL statement:
create table dbo.users (user_id integer generated by default as identity, created_at timestamp(6), password_hash varchar(255) not null, username varchar(100) not null, primary key (user_id)) [42101-232]
2025-10-24 09:23:58.768570+02:00 jdbc[13]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "users" not found; SQL statement:
select * from users [42102-232]
2025-10-24 09:37:29.621198+02:00 database: wrong user or password; user: "MAGWIT"
org.h2.message.DbException: Wrong user name or password [28000-232]
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.engine.Engine.openSession(Engine.java:154)
	at org.h2.engine.Engine.openSession(Engine.java:222)
	at org.h2.engine.Engine.createSession(Engine.java:201)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:344)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:124)
	at org.h2.util.JdbcUtils.getConnection(JdbcUtils.java:291)
	at org.h2.server.web.WebServer.getConnection(WebServer.java:811)
	at org.h2.server.web.WebApp.login(WebApp.java:1038)
	at org.h2.server.web.WebApp.process(WebApp.java:226)
	at org.h2.server.web.WebApp.processRequest(WebApp.java:176)
	at org.h2.server.web.JakartaWebServlet.doGet(JakartaWebServlet.java:129)
	at org.h2.server.web.JakartaWebServlet.doPost(JakartaWebServlet.java:166)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.h2.jdbc.JdbcSQLInvalidAuthorizationSpecException: Wrong user name or password [28000-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:522)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	... 50 more
2025-10-24 09:38:21.011336+02:00 database: wrong user or password; user: "MAGWIT"
org.h2.message.DbException: Wrong user name or password [28000-232]
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.engine.Engine.openSession(Engine.java:154)
	at org.h2.engine.Engine.openSession(Engine.java:222)
	at org.h2.engine.Engine.createSession(Engine.java:201)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:344)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:124)
	at org.h2.Driver.connect(Driver.java:59)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:144)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:370)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:207)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:488)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:576)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:97)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:52)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applySchemaScripts(AbstractScriptDatabaseInitializer.java:98)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:76)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.example.backend.BackendApplication.main(BackendApplication.java:9)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.h2.jdbc.JdbcSQLInvalidAuthorizationSpecException: Wrong user name or password [28000-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:522)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	... 48 more
2025-10-24 09:39:18.488432+02:00 database: wrong user or password; user: "MAGWIT"
org.h2.message.DbException: Wrong user name or password [28000-232]
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.engine.Engine.openSession(Engine.java:154)
	at org.h2.engine.Engine.openSession(Engine.java:222)
	at org.h2.engine.Engine.createSession(Engine.java:201)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:344)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:124)
	at org.h2.Driver.connect(Driver.java:59)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:144)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:370)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:207)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:488)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:576)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:97)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:52)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applySchemaScripts(AbstractScriptDatabaseInitializer.java:98)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:76)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.example.backend.BackendApplication.main(BackendApplication.java:9)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.h2.jdbc.JdbcSQLInvalidAuthorizationSpecException: Wrong user name or password [28000-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:522)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	... 48 more
2025-10-24 09:39:34.382094+02:00 database: wrong user or password; user: "MAGWIT"
org.h2.message.DbException: Wrong user name or password [28000-232]
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.engine.Engine.openSession(Engine.java:154)
	at org.h2.engine.Engine.openSession(Engine.java:222)
	at org.h2.engine.Engine.createSession(Engine.java:201)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:344)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:124)
	at org.h2.Driver.connect(Driver.java:59)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:144)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:370)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:207)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:488)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:576)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:97)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:52)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applySchemaScripts(AbstractScriptDatabaseInitializer.java:98)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:76)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.example.backend.BackendApplication.main(BackendApplication.java:9)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.h2.jdbc.JdbcSQLInvalidAuthorizationSpecException: Wrong user name or password [28000-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:522)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	... 48 more
